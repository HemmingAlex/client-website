if (self.CavalryLogger) { CavalryLogger.start_js(["IsZJ8"]); }

__d("ShopDeleteTieredShippingOptionMutationDeleteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedCostShippingOptionDeleteData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"account_user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[c]}]},e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f=[{kind:"ScalarField",alias:"amountInHundredths",name:"amount_in_hundredths",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"currency",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"ShopDeleteTieredShippingOptionMutationDeleteMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_delete",storageKey:null,args:b,concreteType:"FixedCostShippingOptionDeleteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"FragmentSpread",name:"CommerceManagerShippingV2ProfileCard_shippingProfile",args:null}]},d]}]},operation:{kind:"Operation",name:"ShopDeleteTieredShippingOptionMutationDeleteMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_delete",storageKey:null,args:b,concreteType:"FixedCostShippingOptionDeleteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:"externalReferenceID",name:"external_shipping_profile_id",args:null,storageKey:null},{kind:"LinkedField",alias:"handlingTime",name:"handling_time",storageKey:null,args:null,concreteType:"CommerceHandlingTime",plural:!1,selections:[{kind:"ScalarField",alias:"min",name:"min_handling_days",args:null,storageKey:null},{kind:"ScalarField",alias:"max",name:"max_handling_days",args:null,storageKey:null}]},c,{kind:"ScalarField",alias:"isDefaultProfile",name:"is_default_shipping_profile",args:null,storageKey:null},{kind:"ScalarField",alias:"name",name:"profile_name",args:null,storageKey:null},{kind:"LinkedField",alias:"addressCategories",name:"address_categories",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[e,{kind:"ScalarField",alias:"country",name:"address_category_country",args:null,storageKey:null},{kind:"ScalarField",alias:"supportedStates",name:"address_category_supported_states",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingOptions",name:"address_category_shipping_options",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!0,selections:[{kind:"ScalarField",alias:"shippingTier",name:"shipping_service_tier",args:null,storageKey:null},{kind:"LinkedField",alias:"cartMinimumForFreeShipping",name:"cart_minimum_for_free_shipping",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:f},{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:f},{kind:"LinkedField",alias:"costPerAdditionalItem",name:"cost_per_additional_item",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:f},{kind:"LinkedField",alias:"estimatedDaysToArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"max",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"min",name:"min_days_to_arrival",args:null,storageKey:null}]},c]}]},c]}]},{kind:"LinkedField",alias:"products",name:"products_using_this_profile",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]}]},d]}]},params:{operationKind:"mutation",name:"ShopDeleteTieredShippingOptionMutationDeleteMutation",id:"3670657206285733",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopSettingsAddShippingProfileCreateShippingProfileMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedShippingProfileCreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_shipping_profile_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FixedShippingProfileCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"ShopSettingsAddShippingProfileCreateShippingProfileMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopSettingsAddShippingProfileCreateShippingProfileMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"ShopSettingsAddShippingProfileCreateShippingProfileMutation",id:"2005279382835539",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopSettingsAddShippingProfileRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"ShopSettingsAddShippingProfileRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"FragmentSpread",name:"ShopSettingsAddShippingProfile_settings",args:null}]}]}]},operation:{kind:"Operation",name:"ShopSettingsAddShippingProfileRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[c]},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null},c]},c]}]},params:{operationKind:"query",name:"ShopSettingsAddShippingProfileRefetchQuery",id:"1712325772213065",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopSettingsAddShippingProfile_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ShopSettingsAddShippingProfile_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"ShopSettingsConfirmShopVisibility_settings",args:null}]};e.exports=a}),null);
__d("ShopSettingsAddTieredShippingOptionRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"accountID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"accountID"}];return{kind:"Request",fragment:{kind:"Fragment",name:"ShopSettingsAddTieredShippingOptionRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"settings",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"ShopSettingsAddTieredShippingOption_settings",args:null}]}]},operation:{kind:"Operation",name:"ShopSettingsAddTieredShippingOptionRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"settings",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"InlineFragment",type:"CommerceMerchantSettings",selections:[{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"ShopSettingsAddTieredShippingOptionRefetchQuery",id:"1412840735507087",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopSettingsAddTieredShippingOption_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ShopSettingsAddTieredShippingOption_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"FragmentSpread",name:"ShopSettingsConfirmShopVisibility_settings",args:null}]};e.exports=a}),null);
__d("ShopSettingsConfirmShopVisibility_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ShopSettingsConfirmShopVisibility_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null}]};e.exports=a}),null);
__d("ShopSettingsTieredShippingOptionsRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"accountID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"accountID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:"amountInHundredths",name:"amount_in_hundredths",args:null,storageKey:null},e=[{kind:"ScalarField",alias:"amount",name:"amount_with_offset",args:null,storageKey:null},d,{kind:"ScalarField",alias:"formatted",name:"formatted_amount",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"ShopSettingsTieredShippingOptionsRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"settings",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"ShopSettingsTieredShippingOptions_settings",args:null}]}]},operation:{kind:"Operation",name:"ShopSettingsTieredShippingOptionsRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"settings",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c,{kind:"InlineFragment",type:"CommerceMerchantSettings",selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[c,{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:null,args:null,concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!0,selections:[{kind:"LinkedField",alias:"cartMinimumForFreeShipping",name:"cart_minimum_for_free_shipping",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:e},{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:e},{kind:"LinkedField",alias:"costPerAdditionalItem",name:"cost_per_additional_item",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[d]},{kind:"LinkedField",alias:"estimatedDaysToArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"max",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"min",name:"min_days_to_arrival",args:null,storageKey:null}]},c,{kind:"ScalarField",alias:"shippingTier",name:"shipping_service_tier",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"ShopSettingsTieredShippingOptionsRefetchQuery",id:"2433943389982158",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopSettingsTieredShippingOptions_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:"amountInHundredths",name:"amount_in_hundredths",args:null,storageKey:null},c=[{kind:"ScalarField",alias:"amount",name:"amount_with_offset",args:null,storageKey:null},b,{kind:"ScalarField",alias:"formatted",name:"formatted_amount",args:null,storageKey:null}];return{kind:"Fragment",name:"ShopSettingsTieredShippingOptions_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[a,{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[a,{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:null,args:null,concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!0,selections:[{kind:"LinkedField",alias:"cartMinimumForFreeShipping",name:"cart_minimum_for_free_shipping",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:c},{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:c},{kind:"LinkedField",alias:"costPerAdditionalItem",name:"cost_per_additional_item",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[b]},{kind:"LinkedField",alias:"estimatedDaysToArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"max",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"min",name:"min_days_to_arrival",args:null,storageKey:null}]},a,{kind:"ScalarField",alias:"shippingTier",name:"shipping_service_tier",args:null,storageKey:null}]}]}]},{kind:"FragmentSpread",name:"ShopSettingsAddTieredShippingOption_settings",args:null}]}}();e.exports=a}),null);
__d("CommerceMerchantSettingsUpdateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"data",type:"CommerceMerchantSettingsInput!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"data"},{kind:"Variable",name:"page_id",variableName:"pageID"}],c={kind:"ScalarField",alias:"alertEmail",name:"merchant_alert_email",args:null,storageKey:null},d={kind:"ScalarField",alias:"contactEmail",name:"contact_email",args:null,storageKey:null},e={kind:"ScalarField",alias:"displayName",name:"display_name",args:null,storageKey:null},f={kind:"ScalarField",alias:"isInStockNotifEnabled",name:"is_in_stock_notif_enabled",args:null,storageKey:null},g={kind:"ScalarField",alias:"merchantCategoryCode",name:"merchant_category_code",args:null,storageKey:null},h={kind:"ScalarField",alias:"privacyURI",name:"privacy_uri",args:null,storageKey:null},i={kind:"ScalarField",alias:"returnPolicy",name:"current_return_policy_time",args:null,storageKey:null},j={kind:"LinkedField",alias:"stateTaxes",name:"state_tax_registration_numbers",storageKey:null,args:null,concreteType:"StateTaxRegistrationNumberOutput",plural:!0,selections:[{kind:"ScalarField",alias:"stateCode",name:"state_code",args:null,storageKey:null},{kind:"ScalarField",alias:"registrationNumber",name:"tax_registration_number",args:null,storageKey:null}]},k={kind:"ScalarField",alias:"supportContactsConfirmed",name:"support_contacts_confirmed",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommerceMerchantSettingsUpdateMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"update_commerce_merchant_settings",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[c,d,e,f,g,h,i,j,k]}]}]},operation:{kind:"Operation",name:"CommerceMerchantSettingsUpdateMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"update_commerce_merchant_settings",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[c,d,e,f,g,h,i,j,k,l]},l]}]},params:{operationKind:"mutation",name:"CommerceMerchantSettingsUpdateMutation",id:"2096016547176697",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopCreateTieredShippingOptionMutationCreateOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedCostShippingOptionCreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FixedCostShippingOptionCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"ShopCreateTieredShippingOptionMutationCreateOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopCreateTieredShippingOptionMutationCreateOptionMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"ShopCreateTieredShippingOptionMutationCreateOptionMutation",id:"1726666037381461",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopCreateTieredShippingOptionMutationCreateProfileMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedShippingProfileCreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_shipping_profile_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FixedShippingProfileCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"ShopCreateTieredShippingOptionMutationCreateProfileMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopCreateTieredShippingOptionMutationCreateProfileMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"ShopCreateTieredShippingOptionMutationCreateProfileMutation",id:"2273534789339989",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopCreateTieredShippingOptionMutationEditOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedCostShippingOptionUpdateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_update",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FixedCostShippingOptionUpdateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"ShopCreateTieredShippingOptionMutationEditOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopCreateTieredShippingOptionMutationEditOptionMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"ShopCreateTieredShippingOptionMutationEditOptionMutation",id:"1624117297705899",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopDeleteTieredShippingOptionMutation",["RelayModern","ShopDeleteTieredShippingOptionMutationDeleteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("ShopDeleteTieredShippingOptionMutationDeleteMutation.graphql");function a(a,b){var c=b.shippingOptionID;b=babelHelpers.objectWithoutPropertiesLoose(b,["shippingOptionID"]);return h(a,babelHelpers["extends"]({mutation:i},b,{variables:{input:{fixed_cost_shipping_option_id:c}}}))}e.exports={commit:a}}),null);
__d("SEBottomButton.react",["FDSButton.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.superText!=null?b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-99 _3-8-",size:"body3",children:this.props.superText}):null,c=this.props.superDisclaimerText!=null?b("React").jsx(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-99 _3-8-",size:"body3",children:this.props.superDisclaimerText}):null,d=this.props.subDisclaimerText!=null?b("React").jsx(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-8y",size:"body3",children:this.props.subDisclaimerText}):null,e=this.props.subText!=null?b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8y",size:"body3",textAlign:"center",children:this.props.subText}):null;return b("React").jsxs(b("React").Fragment,{children:[a,c,b("React").jsx(b("FDSButton.react"),{isDisabled:this.props.isDisabled,label:this.props.label,margin:"_3-8y",size:"large",use:this.props.use,width:"100%",onClick:this.props.onClick}),d,e]})};return c}(b("React").PureComponent);a.defaultProps={use:"primary"};e.exports=a}),null);
__d("SEModalContent.react",["cx","FDSText.react","Image.react","React","SEBottomButton.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderImage=function(){return this.props.imageSrc?b("React").jsx(b("Image.react"),{className:"_3-98",src:this.props.imageSrc}):null};d.renderPrimaryButton=function(){return this.props.primaryButton?b("React").jsx(b("SEBottomButton.react"),{label:this.props.primaryButton.label,onClick:this.props.primaryButton.onClick}):null};d.renderSecondaryButton=function(){return this.props.secondaryButton?b("React").jsx(b("SEBottomButton.react"),{label:this.props.secondaryButton.label,use:"default",onClick:this.props.secondaryButton.onClick}):null};d.renderSubtitle=function(){return this.props.subtitle!==null?b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-96",size:"body3",textAlign:"center",children:this.props.subtitle}):null};d.renderTitle=function(){return b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"header1",textAlign:"center",weight:"bold",children:this.props.title})};d.render=function(){return b("React").jsxs("div",{className:this.props.className,children:[this.renderImage(),this.renderTitle(),this.renderSubtitle(),this.renderPrimaryButton(),this.renderSecondaryButton()]})};return c}(b("React").PureComponent);a.defaultProps={className:"_3d5h"};e.exports=a}),null);
__d("ShopSettingsAddButton.react",["ix","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("Image.react"),{className:"_3-8_",src:g("550827")}),this.props.label]})};return c}(b("React").Component);e.exports=a}),null);
__d("XPagesProfileShopController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/shop/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},rid:{type:"Int"},rt:{type:"Enum",enumType:0},location:{type:"Enum",enumType:1},share_id:{type:"Int"},surface:{type:"String"},ref:{type:"String"},referral_story_type:{type:"Enum",enumType:1},referral_code:{type:"String"},marketplace_initial_tracking:{type:"String"},marketplace_referral_story_type:{type:"Enum",enumType:1},marketplace_tracking:{type:"String"},cid:{type:"Int"},obs:{type:"String"},hsi:{type:"Int"},offer_id:{type:"Int"},updated_cids:{type:"IntVector"},new_pids_count:{type:"IntVector"},new_pids:{type:"IntVector"},search_text:{type:"String"},__nodl:{type:"Exists",defaultValue:!1},qr:{type:"String"},qr_code_id:{type:"FBID"},scan_session_id:{type:"String"},mt_nav:{type:"Bool",defaultValue:!1},referrer:{type:"String"},msite_tab_async:{type:"Bool",defaultValue:!1},_sref_:{type:"Int"},_vref_:{type:"Int"}})}),null);
__d("ShopSettingsConfirmShopVisibility.react",["cx","fbt","ix","React","RelayModern","SEModalContent.react","SUIModal.react","XPagesProfileShopController","goURI","ShopSettingsConfirmShopVisibility_settings.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=550;d=function(a){__p&&__p();babelHelpers.inheritsLoose(d,a);function d(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={isShopVisibleToVisitorsPreviously:(c=e.props)!=null?(c=c.settings)!=null?c.canVisitorSeeShopTab:c:c},e.onShopLinkClick=function(){var a=b("XPagesProfileShopController").getURIBuilder().setEnum("rt",28).setString("page_token",e.props.pageID).getURI();b("goURI")(a)},d)||babelHelpers.assertThisInitialized(e)}var e=d.prototype;e.render=function(){var a;a=this.props.pageID!=null&&this.props.isShown&&((a=this.props)!=null?(a=a.settings)!=null?a.canVisitorSeeShopTab:a:a)&&!this.state.isShopVisibleToVisitorsPreviously;return a!==!0?null:b("React").jsx(b("SUIModal.react"),{footer:null,isShown:this.props.isShown,label:"Confirm shop is now visible to visitors",width:k,onHide:this.props.onHide,children:b("React").jsx(b("SEModalContent.react"),{className:"_6sya",imageSrc:i("94361"),primaryButton:{label:h._("Done"),onClick:this.props.onHide},secondaryButton:{label:h._("See My Shop"),onClick:this.onShopLinkClick},subtitle:h._("You've updated your delivery options and your shop is now visible to customers."),title:h._("Your delivery options are set!")})})};return d}(b("React").Component);e.exports=a(d,{settings:j!==void 0?j:j=b("ShopSettingsConfirmShopVisibility_settings.graphql")})}),null);
__d("ShopSettingsShippingOptionInput.react",["cx","fbt","AdsCurrencyInput.react","CommerceStringUtils","FDSText.react","FlexLayout.react","React","SUITextInput.react","XUICardSection.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null,nameError:null},b)||babelHelpers.assertThisInitialized(c)}c.validate=function(a){__p&&__p();var c,d,e=a.additionalItemCost,f=a.arrivalMin,g=a.arrivalMax,i=a.baseCost;a=a.name;var j={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null,nameError:null};c=Number((c=g)!=null?c:0);d=Number((d=f)!=null?d:0);var k=h._("This field is required"),l=h._("Please input a number");b("CommerceStringUtils").isEmpty(e)&&(j.additionalItemCostError=k);b("CommerceStringUtils").isEmpty(i)&&(j.baseCostError=k);b("CommerceStringUtils").isEmpty(a)&&(j.nameError=k);b("CommerceStringUtils").isEmpty(f)?j.arrivalMinError=k:b("CommerceStringUtils").isInteger(f)||(j.arrivalMinError=l);b("CommerceStringUtils").isEmpty(g)?j.arrivalMaxError=k:b("CommerceStringUtils").isInteger(g)||(j.arrivalMaxError=l);c<0&&(j.arrivalMaxError=h._("The maximum estimated delivery time must be greater than zero"));d<0&&(j.arrivalMinError=h._("The minimum estimated delivery time must be greater than zero"));d>c&&(j.arrivalMinError=h._("The minimum estimated delivery time must be less than the maximum"));c>7&&(j.arrivalMaxError=h._("Items must be delivered within seven days of dispatch"));return j};c.getDerivedStateFromProps=function(a){return a.showErrors?c.validate(a):{additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null,nameError:null}};var d=c.prototype;d.render=function(){var a=this,c,d,e,f;return(c=b("React")).jsxs("div",{className:"_11gz",children:[c.jsx(d=b("XUICardSection.react"),{className:"_11g_",children:c.jsxs(e=b("FlexLayout.react"),{align:"center",justify:"all",children:[c.jsx(f=b("FDSText.react"),{display:"block",weight:"bold",children:h._("Delivery type")}),c.jsx(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.nameError,name:"name",placeholder:h._("For example, standard delivery"),value:this.props.name,width:300,onChange:function(b){return a.props.onChange("name",b)}})]})}),c.jsx(d,{className:"_11g_",children:c.jsxs(e,{align:"center",justify:"all",children:[c.jsxs("div",{children:[c.jsx(f,{display:"block",weight:"bold",children:h._("Estimated days to delivery")}),c.jsx(f,{color:"secondary",display:"block",margin:"_3-90",children:h._("You're responsible for dispatching items within three working days of when an order was placed.")})]}),c.jsx(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMinError,name:"arrivalMin",placeholder:h._("Min."),style:{marginRight:"8px"},value:this.props.arrivalMin,width:60,onChange:function(b){return a.props.onChange("arrivalMin",b)}}),c.jsx(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMaxError,name:"arrivalMax",placeholder:h._("Max."),value:this.props.arrivalMax,width:60,onChange:function(b){return a.props.onChange("arrivalMax",b)}})]})}),c.jsx(d,{className:"_11g_",children:c.jsxs(e,{align:"center",justify:"all",children:[c.jsxs("div",{children:[c.jsx(f,{display:"block",weight:"bold",children:h._("Price")}),c.jsx(f,{color:"secondary",display:"block",margin:"_3-90",children:h._("This is the base price of this delivery option.")})]}),c.jsx(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.baseCostError,value:Number(this.props.baseCost),width:128,onDataUpdate:function(b){a.props.onChange("baseCost",String(b))}})]})}),c.jsx(d,{className:"_11g_",children:c.jsxs(e,{align:"center",justify:"all",children:[c.jsxs("div",{children:[c.jsx(f,{display:"block",weight:"bold",children:h._("Price per additional item")}),c.jsx(f,{color:"secondary",display:"block",margin:"_3-90",children:h._("This is the amount added for every additional item in the order when this delivery option is selected.")})]}),c.jsx(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.additionalItemCostError,value:Number(this.props.additionalItemCost),width:128,onDataUpdate:function(b){a.props.onChange("additionalItemCost",String(b))}})]})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ShopSettingsTableFooter.react",["FDSDivider.react","React","cxMargin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSDivider.react"),{margin:"_3-97"}),this.props.children]})};return c}(b("React").Component);e.exports=a}),null);
__d("ShopSettingsTableFooterLink.react",["FDSLink.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("FDSLink.react"),{display:"block",margin:"_3-97",showUnderline:"never",onClick:this.props.onClick,children:b("React").jsx(b("FDSText.react"),{color:"blueLink",size:"body3",weight:"bold",children:this.props.children})})};return c}(b("React").Component);e.exports=a}),null);
__d("ShopSettingsAddShippingProfile.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModalFooter.react","FDSModalHeader.react","FDSText.react","LeftRight.react","React","RelayFBEnvironment","RelayModern","ShopSettingsAddButton.react","ShopSettingsConfirmShopVisibility.react","ShopSettingsShippingOptionInput.react","ShopSettingsTableFooter.react","ShopSettingsTableFooterLink.react","SUIModal.react","SUINotice.react","SUITextInput.react","XUICardSection.react","cxMargin","nullthrows","ShopSettingsAddShippingProfileCreateShippingProfileMutation.graphql","ShopSettingsAddShippingProfile_settings.graphql","ShopSettingsAddShippingProfileRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=b("RelayModern").commitMutation;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var m=i!==void 0?i:i=b("ShopSettingsAddShippingProfileCreateShippingProfileMutation.graphql");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var d,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={errorMessage:null,isSaving:!1,shippingProfileName:h._("Default delivery profile"),shippingProfileNameError:null,shippingOptions:[c.emptyShippingOption()],showErrors:!1,showShopVisibilityConfirmationModal:!1},e.onAddShippingOption=function(){e.setState(function(a){return{shippingOptions:[].concat(a.shippingOptions,[c.emptyShippingOption()])}})},e.onShopVisibilityConfirmationModalHide=function(){e.setState({showShopVisibilityConfirmationModal:!1})},e.onSave=function(){__p&&__p();if(e.state.isSaving||!e.validate())return;e.setState({isSaving:!0});var a=b("nullthrows")(e.props.settings.currency),c={name:e.state.shippingProfileName,page_id:e.props.pageID,shipping_options:e.state.shippingOptions.map(function(b){return{name:b.name,cost:{amount_in_hundredths:Number(b.baseCost),currency:a},cost_per_additional_item:{amount_in_hundredths:Number(b.additionalItemCost),currency:a},estimated_days_until_arrival:{max_days_to_arrival:b.arrivalMax,min_days_to_arrival:b.arrivalMin}}})};l(b("RelayFBEnvironment"),{mutation:m,onCompleted:function(){e.setState({isSaving:!1}),e.refetchShopVisibility()},onError:function(a){var b=null;switch(a.name){case"NetworkTransportError":b=h._("Couldn't connect to the server. Please try again later.");break;default:b=h._("An unexpected error occurred. Please try again later.")}e.setState({errorMessage:b,isSaving:!1})},variables:{input:c}})},d)||babelHelpers.assertThisInitialized(e)}c.emptyShippingOption=function(){return{additionalItemCost:"0",arrivalMin:null,arrivalMax:null,baseCost:"0",name:""}};var d=c.prototype;d.validate=function(){__p&&__p();var a={errorMessage:null,shippingProfileNameError:null,showErrors:!0},c=!0;this.state.shippingProfileName||(c=!1,a.shippingProfileNameError=h._("This field is required"));var d=this.state.shippingOptions.map(function(a){a=b("ShopSettingsShippingOptionInput.react").validate(a);return!Object.values(a).reduce(function(a,b){return a||b!==null},!1)}).reduce(function(a,b){return a&&b},!0);c=c&&d;c||(a.errorMessage=h._("There are errors in this form. Please correct them."));this.setState(a);return c};d.refetchShopVisibility=function(){var a=this,b;((b=this.props.settings)!=null?(b=b.shippingProfile)!=null?b.id:b:b)==null?this.props.relay.refetch({pageID:this.props.pageID},null,function(){a.setState({showShopVisibilityConfirmationModal:!0}),a.props.onHide()}):this.props.onHide()};d.renderInputFields=function(){var a=this.props.isProfileEnabled?b("React").jsx(b("ShopSettingsAddButton.react"),{label:h._("Add delivery option")}):b("React").jsx(b("ShopSettingsAddButton.react"),{label:h._("Add another")});return b("React").jsxs(b("React").Fragment,{children:[this.renderShippingProfileInputField(),this.renderShippingOptions(),b("React").jsx(b("XUICardSection.react"),{className:"_2m6g",children:b("React").jsx(b("ShopSettingsTableFooter.react"),{children:b("React").jsx(b("ShopSettingsTableFooterLink.react"),{onClick:this.onAddShippingOption,children:a})})})]})};d.renderShippingOptions=function(){var a=this,c,d=((c=this.props)!=null?(c=c.settings)!=null?c.currency:c:c)||"USD";c=this.state.shippingOptions.map(function(c,e){return b("React").jsx("div",{className:(a.props.isProfileEnabled?"":"_68il")+(a.props.isProfileEnabled?" _1ci1":""),children:b("React").jsx(b("ShopSettingsShippingOptionInput.react"),babelHelpers["extends"]({},c,{currency:d,showErrors:a.state.showErrors,onChange:function(b,c){var d=a.state.shippingOptions;d[e][b]=c;a.setState({shippingOptions:d})}}))},e)});return b("React").jsx(b("XUICardSection.react"),{className:"_2m6g",children:c})};d.renderShippingProfileInputField=function(){var a=this;return!this.props.isProfileEnabled?null:b("React").jsxs(b("XUICardSection.react"),{className:"_2m6h",children:[this.state.errorMessage!=null?b("React").jsx(b("SUINotice.react"),{margin:"_3-96",type:"error",children:this.state.errorMessage}):null,b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsx(b("FDSText.react"),{display:"block",weight:"bold",children:h._("Delivery profile name")}),b("React").jsx(b("SUITextInput.react"),{disabled:!0,display:"inline",errorMessage:this.state.shippingProfileNameError,name:"shippingProfileName",value:this.state.shippingProfileName.toString(),width:300,onChange:function(b){return a.setState({shippingProfileName:b,shippingProfileNameError:b===null||b.length===0?h._("This field is required"):null})}})]})]})};d.render=function(){var a=this.props.isProfileEnabled?h._("Add delivery profile"):h._("Add delivery options");return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("SUIModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{label:h._("Save"),use:"primary",onClick:this.onSave}),secondaryButton:b("React").jsx(b("FDSCancelButton.react"),{})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:a}),isShown:this.props.isShown,label:a,width:600,onHide:this.props.onHide,children:this.renderInputFields()}),b("React").jsx(b("ShopSettingsConfirmShopVisibility.react"),{isShown:this.state.showShopVisibilityConfirmationModal,pageID:this.props.pageID,settings:this.props.settings,onHide:this.onShopVisibilityConfirmationModalHide})]})};return c}(b("React").Component);d=a(c,{settings:j!==void 0?j:j=b("ShopSettingsAddShippingProfile_settings.graphql")},k!==void 0?k:k=b("ShopSettingsAddShippingProfileRefetchQuery.graphql"));e.exports=d}),null);
__d("OnsiteCommerceMerchantFixedShippingOptionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({STANDARD:"STANDARD",RUSH:"RUSH",EXPEDITED:"EXPEDITED"})}),null);
__d("ShopCreateTieredShippingOptionMutation",["fbt","RelayModern","ShopCreateTieredShippingOptionMutationCreateOptionMutation.graphql","ShopCreateTieredShippingOptionMutationEditOptionMutation.graphql","ShopCreateTieredShippingOptionMutationCreateProfileMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k=b("RelayModern").commitMutation;b("RelayModern").graphql;var l=h!==void 0?h:h=b("ShopCreateTieredShippingOptionMutationCreateOptionMutation.graphql"),m=i!==void 0?i:i=b("ShopCreateTieredShippingOptionMutationEditOptionMutation.graphql"),n=j!==void 0?j:j=b("ShopCreateTieredShippingOptionMutationCreateProfileMutation.graphql");function a(a,b){__p&&__p();var c=b.variables;b=babelHelpers.objectWithoutPropertiesLoose(b,["variables"]);if(c.fixed_cost_shipping_option_id!=null){var d=m;return k(a,babelHelpers["extends"]({mutation:d},b,{variables:{input:babelHelpers["extends"]({fixed_cost_shipping_option_id:c.fixed_cost_shipping_option_id},c.shipping_option)}}))}else if(c.fixed_cost_shipping_profile_id!=null){d=l;return k(a,babelHelpers["extends"]({mutation:d},b,{variables:{input:babelHelpers["extends"]({fixed_cost_shipping_profile_id:c.fixed_cost_shipping_profile_id},c.shipping_option)}}))}else{d=n;return k(a,babelHelpers["extends"]({mutation:d},b,{variables:{input:{commerce_account_id:c.commerce_account_id,name:g._("Default delivery profile"),shipping_options:[c.shipping_option]}}}))}}e.exports={commit:a}}),null);
__d("ShopSettingsTieredShippingOptionInput.react",["cx","fbt","AdsCurrencyInput.react","CommerceStringUtils","FDSText.react","FlexLayout.react","React","SUITextInput.react","XUICardSection.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null},b)||babelHelpers.assertThisInitialized(c)}c.validate=function(a){__p&&__p();var c,d,e=a.additionalItemCost,f=a.arrivalMin,g=a.arrivalMax;a=a.baseCost;var i={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null};c=Number((c=g)!=null?c:0);d=Number((d=f)!=null?d:0);var j=h._("This field is required"),k=h._("Please input a number");b("CommerceStringUtils").isEmpty(e)&&(i.additionalItemCostError=j);b("CommerceStringUtils").isEmpty(a)&&(i.baseCostError=j);b("CommerceStringUtils").isEmpty(f)?i.arrivalMinError=j:b("CommerceStringUtils").isInteger(f)||(i.arrivalMinError=k);b("CommerceStringUtils").isEmpty(g)?i.arrivalMaxError=j:b("CommerceStringUtils").isInteger(g)||(i.arrivalMaxError=k);c<=0&&(i.arrivalMaxError=h._("The maximum estimated delivery time must be greater than zero"));d<0&&(i.arrivalMinError=h._("The minimum estimated delivery time must be greater than or equal to zero"));d>=c&&(i.arrivalMinError=h._("The minimum estimated delivery time must be less than the maximum"));c>7&&(i.arrivalMaxError=h._("Items must be delivered within seven days of dispatch"));return i};c.getDerivedStateFromProps=function(a){return a.showErrors?c.validate(a):{additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null}};var d=c.prototype;d.render=function(){var a=this,c,d,e,f;return(c=b("React")).jsxs("div",{className:"_11gz",children:[c.jsx(d=b("XUICardSection.react"),{className:"_11g_",children:c.jsxs(e=b("FlexLayout.react"),{align:"center",justify:"all",children:[c.jsxs("div",{children:[c.jsx(f=b("FDSText.react"),{display:"block",weight:"bold",children:h._("Estimated days to delivery")}),c.jsx(f,{color:"secondary",display:"block",margin:"_3-90",children:h._("You're responsible for dispatching items within three working days of when an order was placed.")})]}),c.jsx(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMinError,name:"arrivalMin",placeholder:h._("Min."),style:{marginRight:"8px"},value:this.props.arrivalMin,width:60,onChange:function(b){return a.props.onChange("arrivalMin",b)}}),c.jsx(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMaxError,name:"arrivalMax",placeholder:h._("Max."),value:this.props.arrivalMax,width:60,onChange:function(b){return a.props.onChange("arrivalMax",b)}})]})}),c.jsx(d,{className:"_11g_",children:c.jsxs(e,{align:"center",justify:"all",children:[c.jsxs("div",{children:[c.jsx(f,{display:"block",weight:"bold",children:h._("Price")}),c.jsx(f,{color:"secondary",display:"block",margin:"_3-90",children:h._("This is the base price of this delivery option.")})]}),c.jsx(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.baseCostError,value:Number(this.props.baseCost),width:128,onDataUpdate:function(b){a.props.onChange("baseCost",String(b))}})]})}),c.jsx(d,{className:"_11g_",children:c.jsxs(e,{align:"center",justify:"all",children:[c.jsxs("div",{children:[c.jsx(f,{display:"block",weight:"bold",children:h._("Price per additional item")}),c.jsx(f,{color:"secondary",display:"block",margin:"_3-90",children:h._("This is the amount added for every additional item in the order when this delivery option is selected.")})]}),c.jsx(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.additionalItemCostError,value:Number(this.props.additionalItemCost),width:128,onDataUpdate:function(b){a.props.onChange("additionalItemCost",String(b))}})]})}),c.jsx(d,{className:"_11g_",children:c.jsxs(e,{align:"center",justify:"all",children:[c.jsxs("div",{children:[c.jsx(f,{display:"block",weight:"bold",children:h._("Basket minimum for free delivery")}),c.jsx("div",{className:"_3-90",children:c.jsx(f,{color:"secondary",display:"block",children:h._("This is the minimum basket amount eligible for free delivery")})})]}),c.jsx(b("AdsCurrencyInput.react"),{currency:this.props.currency,value:b("CommerceStringUtils").isEmpty(this.props.cartMinimumForFreeShipping)?null:Number(this.props.cartMinimumForFreeShipping),width:128,onDataUpdate:function(b){a.props.onChange("cartMinimumForFreeShipping",b!=null?String(b):null)}})]})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ShopSettingsAddTieredShippingOption.react",["cx","fbt","AdsCurrencyFormatter","CurrencyConstants","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","OnsiteCommerceMerchantFixedShippingOptionType","React","RelayFBEnvironment","RelayModern","ShopCreateTieredShippingOptionMutation","ShopSettingsConfirmShopVisibility.react","ShopSettingsTieredShippingOptionInput.react","ShopsOnboardingLoadingOverlay","SUIBusinessThemeContainer.react","SUINotice.react","cxMargin","getJSEnumSafe","nullthrows","ShopSettingsAddTieredShippingOption_settings.graphql","ShopSettingsAddTieredShippingOptionRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var k={additionalItemCost:"0",arrivalMax:"",arrivalMin:"",baseCost:"0",cartMinimumForFreeShipping:""};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={errorMessage:null,isEditMode:!1,isSaving:!1,shippingOption:babelHelpers["extends"]({},k),shippingTier:null,showErrors:!1,showShopVisibilityConfirmationModal:!1},d.onSave=function(){__p&&__p();var a;if(d.state.isSaving)return;if(!d.validate()){d.setState({errorMessage:h._("There are errors in this form. Please correct them."),showErrors:!0});return}var c=d.state.shippingOption.baseCost,e=Number(d.state.shippingOption.additionalItemCost),f=Number(d.state.shippingOption.arrivalMax),g=Number(d.state.shippingOption.arrivalMin),i=d.getCurrency();a=(a=d.props)!=null?(a=a.option)!=null?a.id:a:a;var j=d.state.isEditMode?null:b("nullthrows")(d.state.shippingTier),k=d.state.shippingOption.cartMinimumForFreeShipping,l=k!=null?{amount_in_hundredths:Number(k),currency:i}:null;d.setState({errorMessage:null});var m=d.props.onSave;if(m){m({cartMinimumForFreeShipping:{amount:k,amountInHundredths:k!=null?Number(k):null,formatted:k!=null?b("AdsCurrencyFormatter").formatCurrency(i,Number(k)):null},cost:{amount:c,amountInHundredths:Number(c),formatted:b("AdsCurrencyFormatter").formatCurrency(i,Number(c))},costPerAdditionalItem:{amountInHundredths:e},estimatedDaysToArrival:{max:f,min:g},id:d.state.isEditMode?b("nullthrows")(a):j,shippingTier:j});d.refetchShopVisibility();return}m=d.props.shippingProfileID;k={cart_minimum_for_free_shipping:l,cost:{amount_in_hundredths:Number(c),currency:i},cost_per_additional_item:{amount_in_hundredths:e,currency:i},estimated_days_until_arrival:{max_days_to_arrival:f,min_days_to_arrival:g},shipping_tier:j};d.setState({isSaving:!0});b("ShopCreateTieredShippingOptionMutation").commit(b("RelayFBEnvironment"),{onCompleted:function(){d.refetchShopVisibility()},onError:function(){var a=h._("An unexpected error occurred. Please try again later.");d.setState({errorMessage:a,isSaving:!1})},variables:{fixed_cost_shipping_option_id:a,fixed_cost_shipping_profile_id:m,shipping_option:k,commerce_account_id:b("nullthrows")((l=d.props.settings)==null?void 0:l.id)}})},d.onShopVisibilityConfirmationModalHide=function(){d.setState({showShopVisibilityConfirmationModal:!1})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){__p&&__p();var d,e,f,g,h,i;if(!a.shippingOptionTier&&!a.option)return babelHelpers["extends"]({},c,{shippingTier:null});i=((i=a)!=null?(i=i.option)!=null?i.shippingTier:i:i)||a.shippingOptionTier;if(i===c.shippingTier)return c;h=(((h=a)!=null?(h=h.option)!=null?(h=h.costPerAdditionalItem)!=null?h.amountInHundredths:h:h:h)||k.additionalItemCost).toString();g=(((g=a)!=null?(g=g.option)!=null?(g=g.estimatedDaysToArrival)!=null?g.max:g:g:g)||k.arrivalMax).toString();f=(((f=a)!=null?(f=f.option)!=null?(f=f.estimatedDaysToArrival)!=null?f.min:f:f:f)||k.arrivalMin).toString();e=(((e=a)!=null?(e=e.option)!=null?(e=e.cost)!=null?e.amountInHundredths:e:e:e)||k.baseCost).toString();d=(((d=a.option)==null?void 0:(d=d.cartMinimumForFreeShipping)==null?void 0:d.amount)||k.cartMinimumForFreeShipping).toString();return babelHelpers["extends"]({},c,{errorMessage:null,isEditMode:a.shippingOptionTier===null,shippingOption:{additionalItemCost:h,arrivalMax:g,arrivalMin:f,baseCost:e,cartMinimumForFreeShipping:d},shippingTier:b("getJSEnumSafe")(b("OnsiteCommerceMerchantFixedShippingOptionType"),i),showErrors:!1})};var d=c.prototype;d.getCurrency=function(){var a;return(a=this.props.currency)!=null?a:b("CurrencyConstants").ISO_CURRENCY_UNITED_STATES_DOLLAR};d.getShippingTier=function(){};d.getTitle=function(){return this.state.isEditMode?this.getEditTitle():this.getAddTitle()};d.getAddTitle=function(){switch(this.state.shippingTier){case"STANDARD":return h._("Add standard delivery");case"EXPEDITED":return h._("Add expedited delivery");case"RUSH":return h._("Add express delivery");default:return h._("Add delivery option")}};d.getEditTitle=function(){switch(this.state.shippingTier){case"STANDARD":return h._("Edit standard delivery");case"EXPEDITED":return h._("Edit expedited delivery");case"RUSH":return h._("Edit express delivery");default:return h._("Edit delivery option")}};d.refetchShopVisibility=function(){var a=this;if(this.props.shippingProfileID==null){var b;this.props.relay.refetch({accountID:(b=this.props.settings)==null?void 0:b.id},null,function(){a.setState({isSaving:!1,showShopVisibilityConfirmationModal:!0}),a.props.onHide()})}else this.setState({isSaving:!1}),this.props.onHide()};d.validate=function(){var a=b("ShopSettingsTieredShippingOptionInput.react").validate(this.state.shippingOption);return!Object.values(a).some(Boolean)};d.renderInputFields=function(){var a=this;return b("React").jsxs("div",{className:"_1hes",children:[this.state.errorMessage!=null?b("React").jsx(b("SUINotice.react"),{margin:"_3-96",type:"error",children:this.state.errorMessage}):null,b("React").jsx(b("ShopSettingsTieredShippingOptionInput.react"),babelHelpers["extends"]({},this.state.shippingOption,{currency:this.getCurrency(),showErrors:this.state.showErrors,onChange:function(b,c){a.setState(function(a){a=babelHelpers["extends"]({},a.shippingOption);a[b]=c;return{shippingOption:a}})}}))]})};d.render=function(){var a,c=this.getTitle();return(a=b("React")).jsxs(a.Fragment,{children:[a.jsx(b("FDSModal.react"),{footer:a.jsx(b("FDSModalFooter.react"),{primaryButton:a.jsx(b("FDSButton.react"),{isDisabled:this.state.isSaving,label:h._("Save"),use:"primary",onClick:this.onSave}),secondaryButton:a.jsx(b("FDSCancelButton.react"),{onClick:this.props.onHide})}),header:a.jsx(b("FDSModalHeader.react"),{title:c}),isShown:this.state.shippingTier!==null,label:c,width:600,onHide:this.props.onHide,children:a.jsxs(b("SUIBusinessThemeContainer.react"),{children:[this.renderInputFields(),a.jsx(b("ShopsOnboardingLoadingOverlay"),{isLoading:this.state.isSaving})]})}),a.jsx(b("ShopSettingsConfirmShopVisibility.react"),{isShown:this.state.showShopVisibilityConfirmationModal,pageID:this.props.pageID,settings:(c=this.props)!=null?c.settings:c,onHide:this.onShopVisibilityConfirmationModalHide})]})};return c}(b("React").Component);d=a(c,{settings:i!==void 0?i:i=b("ShopSettingsAddTieredShippingOption_settings.graphql")},j!==void 0?j:j=b("ShopSettingsAddTieredShippingOptionRefetchQuery.graphql"));e.exports=d}),null);
__d("ShopSettingsDeleteTieredShippingOption.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModalFooter.react","FDSText.react","React","RelayFBEnvironment","ShopDeleteTieredShippingOptionMutation","ShopsOnboardingLoadingOverlay","SUIModal.react","SUINotice.react","cxMargin","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={errorMessage:null,isSaving:!1},d.onConfirm=function(){__p&&__p();d.setState({errorMessage:null});var a=d.props.onDelete;if(a){a(b("nullthrows")(d.props.shippingOptionID));d.props.onHide();return}d.setState({isSaving:!0});b("ShopDeleteTieredShippingOptionMutation").commit(b("RelayFBEnvironment"),{onCompleted:function(){d.setState({isSaving:!1}),d.props.onHide()},onError:function(a){a=h._("An unexpected error occurred. Please try again later.");d.setState({errorMessage:a,isSaving:!1})},shippingOptionID:b("nullthrows")((a=d.props)!=null?a.shippingOptionID:a)})},d.onHide=function(){d.setState({errorMessage:null}),d.props.onHide()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs(b("SUIModal.react"),{behaviors:{LayerHideOnBlur:null},footer:a.jsx(b("FDSModalFooter.react"),{primaryButton:a.jsx(b("FDSButton.react"),{isDisabled:this.state.isSaving,label:h._("Yes"),use:"primary",onClick:this.onConfirm}),secondaryButton:a.jsx(b("FDSCancelButton.react"),{onClick:this.onHide})}),isShown:this.props.shippingOptionID!==null,label:h._("Are you sure that you want to delete this delivery option?"),onHide:this.props.onHide,children:[a.jsxs("div",{className:"_1hes",children:[this.state.errorMessage!=null&&b("React").jsx(b("SUINotice.react"),{margin:"_3-96",type:"error",children:this.state.errorMessage}),b("React").jsx(b("FDSText.react"),{display:"block",weight:"bold",children:h._("Are you sure that you want to delete this delivery option?")})]}),b("React").jsx(b("ShopsOnboardingLoadingOverlay"),{isLoading:this.state.isSaving})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ShopSettingsReturnPolicyModal.react",["cx","fbt","AlignmentEnum","CommerceStringUtils","FDSButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","LayerHideSources","React","SellerExperienceHelpCenterLinks","SUIBusinessThemeContainer.react","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=30,j=10;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={errorMessage:null,value:d.getDefaultValue(d.props.defaultValue)},d.onHide=function(){d.props.onHide(b("LayerHideSources").LAYER_CANCEL_BUTTON)},d.onChange=function(a){d.setState({errorMessage:null,value:a})},d.onSave=function(){if(!d.validateInput())return;d.props.onSave(Number.parseInt(d.state.value,j))},d.onBlur=function(a){d.validateInput()},d.onFocus=function(a){d.setState({errorMessage:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDefaultValue=function(a){return""+((a=a)!=null?a:i)};d.validateInput=function(){var a=this.state.value,c=null;if(!b("CommerceStringUtils").isInteger(a))c=h._("Please input a number");else{a=Number.parseInt(a,j);var d=this.props.returnPolicyMin!=null&&this.props.returnPolicyMin!==0?Number(this.props.returnPolicyMin):i;a<d&&(c=h._("Return policy must be longer than {minimal days} days",[h._param("minimal days",d)]))}this.setState({errorMessage:c});return c==null};d.renderHeader=function(){return b("React").jsx(b("FDSModalHeader.react"),{title:h._("Returns policy")})};d.renderFooter=function(){return b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{label:h._("Save"),use:"primary",onClick:this.onSave}),secondaryButton:b("React").jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.onHide})})};d.render=function(){var a;return(a=b("React")).jsx(b("FDSModal.react"),{footer:this.renderFooter(),header:this.renderHeader(),isShown:this.props.isShown,onHide:this.props.onHide,children:a.jsx(b("FDSSection.react"),{children:a.jsx(b("SUIBusinessThemeContainer.react"),{children:a.jsxs("div",{className:"_31_h",children:[a.jsxs("div",{className:"_31_i",children:[a.jsx(b("FDSText.react"),{display:"block",size:"body1",weight:"bold",children:h._("Number of days")}),a.jsx(b("FDSText.react"),{color:"secondary",size:"meta1",children:h._("Items must be returned to you within the time period you enter, calculated from the day on which your item is delivered to the customer. {Learn More link}.",[h._param("Learn More link",a.jsx(b("FDSLink.react"),{href:b("SellerExperienceHelpCenterLinks").RETURNS_AND_REFUNDS,target:"_blank",children:h._("Learn more")}))])})]}),a.jsx(b("SUITextInput.react"),{errorMessage:this.state.errorMessage,textAlign:b("AlignmentEnum").right,value:this.state.value,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus})]})})})})};return c}(b("React").Component);e.exports=a}),null);
__d("ShopSettingsTieredShippingOptionRow.react",["ix","cx","fbt","CommerceManagerContext","FDSButton.react","FDSLink.react","FDSText.react","Image.react","React","ShopSettingsAddButton.react","XUICardSection.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onAddClick=function(){c.context.logger.appendActionWithPayload("commerce_manager_settings_shipping_option_add"),c.props.onAddClick()},c.onEditClick=function(){var a;a=(a=c.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===void 0)return;c.context.logger.appendActionWithPayload("commerce_manager_settings_shipping_option_edit",{optionID:a});c.props.onEditClick(a)},c.onDeleteClick=function(){var a;a=(a=c.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===void 0)return;c.context.logger.appendActionWithPayload("commerce_manager_settings_shipping_option_delete",{optionID:a});c.props.onDeleteClick(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;a=(a=this.props)!=null?a.option:a;var c=a?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("503832")}),isDisabled:this.props.isLastOption,label:i._("Remove"),labelIsHidden:!0,size:"small",tooltip:this.props.isLastOption?i._("You need to offer at least one delivery option"):null,onClick:this.onDeleteClick}),b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("490346")}),label:i._("Edit"),labelIsHidden:!0,margin:"_3-9a",size:"small",onClick:this.onEditClick})]}):b("React").jsx(b("FDSLink.react"),{display:"block",showUnderline:"never",onClick:this.onAddClick,children:b("React").jsx(b("FDSText.react"),{color:"highlight",size:"body3",weight:"bold",children:b("React").jsx(b("ShopSettingsAddButton.react"),{label:i._("Add")})})});return b("React").jsxs(b("XUICardSection.react"),{className:"_1dmy",children:[b("React").jsx("div",{className:"_1dmz",children:this.props.title}),j(a),c]})};return c}(b("React").PureComponent);a.contextType=b("CommerceManagerContext");function j(a){var c,d;if(!a)return null;d=Number(((d=a)!=null?(d=d.cost)!=null?d.amount:d:d)||0);c=(c=a)!=null?(c=c.cost)!=null?c.formatted:c:c;d=d===0?i._("FREE"):c;a=(c=a)!=null?c.estimatedDaysToArrival:c;c=a?i._("{min days}-{max days} days",[i._param("min days",a.min),i._param("max days",a.max)]):null;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:"_1dm-",children:d}),b("React").jsx("div",{className:"_1dm-",children:c})]})}e.exports=a}),null);
__d("PageProductComposerTieredShippingOptionRow.react",["ix","cx","fbt","CommerceManagerContext","FDSButton.react","FDSText.react","FlexLayout.react","Image.react","React","SUICard.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onAddClick=function(){c.context.logger.appendActionWithPayload("commerce_manager_onboarding_shipping_option_add"),c.props.onAddClick()},c.onEditClick=function(){var a;a=(a=c.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===void 0)return;c.context.logger.appendActionWithPayload("commerce_manager_onboarding_shipping_option_edit",{optionID:a});c.props.onEditClick(a)},c.onDeleteClick=function(){var a;a=(a=c.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===void 0)return;c.context.logger.appendActionWithPayload("commerce_manager_onboarding_shipping_option_delete",{optionID:a});c.props.onDeleteClick(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;a=(a=this.props)!=null?a.option:a;var c=a?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("503832")}),isDisabled:this.props.isLastOption,label:i._("Remove"),labelIsHidden:!0,onClick:this.onDeleteClick,size:"small",tooltip:this.props.isLastOption?i._("You need to offer at least one delivery option"):null}),b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("490346")}),label:i._("Edit"),labelIsHidden:!0,margin:"_3-9a",onClick:this.onEditClick,size:"small"})]}):b("React").jsx(b("FDSButton.react"),{label:i._("Add"),onClick:this.onAddClick,size:"small"});return b("React").jsx(b("SUICard.react"),{margin:"_3-8n",children:b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_2ph_",justify:"all",children:[b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",children:[b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",size:"body3",children:this.props.title}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:j(a)})]}),b("React").jsx(b("FlexLayout.react"),{children:c})]})})};return c}(b("React").PureComponent);a.contextType=b("CommerceManagerContext");function j(a){var c,d;if(!a)return null;d=Number(((d=a)!=null?(d=d.cost)!=null?d.amount:d:d)||0);c=(c=a)!=null?(c=c.cost)!=null?c.formatted:c:c;d=d===0?i._("FREE"):c;a=(c=a)!=null?c.estimatedDaysToArrival:c;c=a?i._("{min days}-{max days} days",[i._param("min days",a.min),i._param("max days",a.max)]):null;return b("React").jsxs(b("React").Fragment,{children:[d,b("React").jsx("span",{"aria-hidden":"true",className:"_3-8r",children:"\xb7"}),c]})}e.exports=a}),null);
__d("ShopSettingsTieredShippingOptions.react",["fbt","CommerceStringUtils","OnsiteCommerceMerchantFixedShippingOptionType","PageProductComposerTieredShippingOptionRow.react","React","RelayModern","ShopSettingsAddTieredShippingOption.react","ShopSettingsDeleteTieredShippingOption.react","ShopSettingsTieredShippingOptionRow.react","keyMirror","ShopSettingsTieredShippingOptions_settings.graphql","ShopSettingsTieredShippingOptionsRefetchQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var j=b("keyMirror")({COMPOSER:null,SETTINGS:null});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={editOptionID:null,modalShippingTier:null,optionsCount:0,shippingOptionID:null},d.onEditClick=function(a){d.setState({editOptionID:a})},d.onHideAddShippingOptionModal=function(){d.refetchOptions(),d.setState({editOptionID:null,modalShippingTier:null})},d.onHideDeleteShippingOptionModal=function(){d.refetchOptions(),d.setState({shippingOptionID:null})},d.onShowDeleteShippingOptionModal=function(a){d.setState(function(b){return{optionsCount:b.optionsCount-1,shippingOptionID:a}})},d.renderTierRow=function(a){var c;c=d.props.options||((c=d.props.settings)==null?void 0:(c=c.shippingProfile)==null?void 0:(c=c.options)==null?void 0:c.nodes)||[];c=d.convertToTieredShippingOption(c.find(function(b){return b.shippingTier===a}));var e=d.props.placement===j.SETTINGS;e=e?b("ShopSettingsTieredShippingOptionRow.react"):b("PageProductComposerTieredShippingOptionRow.react");return b("React").jsx(e,{isLastOption:d.state.optionsCount<=1,option:c,title:d.getText(a),onAddClick:function(){d.onShowAddShippingOptionModal(a)},onDeleteClick:d.onShowDeleteShippingOptionModal,onEditClick:d.onEditClick},a)},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,b){a=(a.options||((a=a.settings)==null?void 0:(a=a.shippingProfile)==null?void 0:(a=a.options)==null?void 0:a.nodes)||[]).length;return babelHelpers["extends"]({},b,{optionsCount:a})};var d=c.prototype;d.convertToTieredShippingOption=function(a){var b;return!a?null:{cartMinimumForFreeShipping:{amount:(b=a.cartMinimumForFreeShipping)==null?void 0:b.amount,amountInHundredths:(b=a.cartMinimumForFreeShipping)==null?void 0:b.amountInHundredths,formatted:(b=a.cartMinimumForFreeShipping)==null?void 0:b.formatted},cost:{amount:(b=a.cost)==null?void 0:b.amount,amountInHundredths:(b=a.cost)==null?void 0:b.amountInHundredths,formatted:(b=a.cost)==null?void 0:b.formatted},costPerAdditionalItem:{amountInHundredths:(b=a.costPerAdditionalItem)==null?void 0:b.amountInHundredths},estimatedDaysToArrival:{max:(b=a.estimatedDaysToArrival)==null?void 0:b.max,min:(b=a.estimatedDaysToArrival)==null?void 0:b.min},id:a.id,shippingTier:a.shippingTier}};d.getText=function(a){switch(a){case b("OnsiteCommerceMerchantFixedShippingOptionType").STANDARD:return g._("Standard delivery");case b("OnsiteCommerceMerchantFixedShippingOptionType").EXPEDITED:return g._("Expedited delivery");case b("OnsiteCommerceMerchantFixedShippingOptionType").RUSH:return g._("Express delivery")}return null};d.onShowAddShippingOptionModal=function(a){this.setState({modalShippingTier:a})};d.refetchOptions=function(){var a=this,b;this.props.relay.refetch({accountID:(b=this.props.settings)==null?void 0:b.id},null,function(){a.updateOptionsCount()})};d.updateOptionsCount=function(){var a;a=(this.props.options||((a=this.props.settings)==null?void 0:(a=a.shippingProfile)==null?void 0:(a=a.options)==null?void 0:a.nodes)||[]).length;this.setState({optionsCount:a})};d.render=function(){var a=this,c,d;c=(c=this.props.settings)==null?void 0:c.id;if(b("CommerceStringUtils").isEmpty(this.props.pageID)&&b("CommerceStringUtils").isEmpty(c))return null;c=this.props.options||((c=this.props.settings)==null?void 0:(c=c.shippingProfile)==null?void 0:(c=c.options)==null?void 0:c.nodes)||[];c=this.convertToTieredShippingOption(c.find(function(b){return b.id===a.state.editOptionID}));d=b("CommerceStringUtils").isEmpty(this.props.currency)?this.props.currency:(d=this.props.settings)==null?void 0:d.currency;return b("React").jsxs(b("React").Fragment,{children:[this.props.shippingTiers.map(this.renderTierRow),b("React").jsx(b("ShopSettingsAddTieredShippingOption.react"),{currency:d,option:c,pageID:this.props.pageID,settings:this.props.settings,shippingOptionTier:this.state.modalShippingTier,shippingProfileID:(d=this.props.settings)==null?void 0:(c=d.shippingProfile)==null?void 0:c.id,onHide:this.onHideAddShippingOptionModal,onSave:this.props.onSave}),b("React").jsx(b("ShopSettingsDeleteTieredShippingOption.react"),{shippingOptionID:this.state.shippingOptionID,onDelete:this.props.onDelete,onHide:this.onHideDeleteShippingOptionModal})]})};return c}(b("React").Component);c.defaultProps={placement:j.COMPOSER};d=a(c,{settings:h!==void 0?h:h=b("ShopSettingsTieredShippingOptions_settings.graphql")},i!==void 0?i:i=b("ShopSettingsTieredShippingOptionsRefetchQuery.graphql"));e.exports=d}),null);
__d("SphericalMediaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setComputationTimeMs=function(a){this.$1.computation_time_ms=a;return this};c.setEndTimestampS=function(a){this.$1.end_timestamp_s=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFallbackDuration=function(a){this.$1.fallback_duration=a;return this};c.setFallbackReason=function(a){this.$1.fallback_reason=a;return this};c.setNormalizedFrameTime=function(a){this.$1.normalized_frame_time=a;return this};c.setNumSpatialAudioStutters=function(a){this.$1.num_spatial_audio_stutters=a;return this};c.setProductName=function(a){this.$1.product_name=a;return this};c.setProjection=function(a){this.$1.projection=a;return this};c.setSpatialReactionsCacheUsed=function(a){this.$1.spatial_reactions_cache_used=a;return this};c.setSpatialReactionsClustersCount=function(a){this.$1.spatial_reactions_clusters_count=a;return this};c.setSpatialReactionsCount=function(a){this.$1.spatial_reactions_count=a;return this};c.setSphericalRendererSetupDuration=function(a){this.$1.spherical_renderer_setup_duration=a;return this};c.setStartTimestampS=function(a){this.$1.start_timestamp_s=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={computation_time_ms:!0,end_timestamp_s:!0,event:!0,fallback_duration:!0,fallback_reason:!0,normalized_frame_time:!0,num_spatial_audio_stutters:!0,product_name:!0,projection:!0,spatial_reactions_cache_used:!0,spatial_reactions_clusters_count:!0,spatial_reactions_count:!0,spherical_renderer_setup_duration:!0,start_timestamp_s:!0,time:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("SphericalVideoComponentDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("SphericalVideoComponentActions",["SphericalVideoComponentDispatcher"],(function(a,b,c,d,e,f){__p&&__p();a={registerVideoPlayerController:function(a){a={type:"SphericalVideoComponent/registerVideoPlayerController",controller:a,id:a.getVideoPlayerID()};b("SphericalVideoComponentDispatcher").dispatch(a)},updateVideoPlayerState:function(a,c){a={type:"SphericalVideoComponent/updateVideoPlayerState",id:a,state:c};b("SphericalVideoComponentDispatcher").dispatch(a)},togglePlay:function(a,c){a={type:"SphericalVideoComponent/togglePlay",id:a,nextIsPlaying:c};b("SphericalVideoComponentDispatcher").dispatch(a)},toggleChannelView:function(a,c){a={type:"SphericalVideoComponent/toggleChannelView",id:a,isInChannelView:c};b("SphericalVideoComponentDispatcher").dispatch(a)},toggleTahoe:function(a,c){a={type:"SphericalVideoComponent/toggleTahoe",id:a,isInTahoe:c};b("SphericalVideoComponentDispatcher").dispatch(a)},setCurrentVideoTime:function(a,c){a={type:"SphericalVideoComponent/setCurrentPlaytime",id:a,time:c};b("SphericalVideoComponentDispatcher").dispatch(a)},setVideoDuration:function(a,c){a={type:"SphericalVideoComponent/setVideoDuration",id:a,durationSeconds:c};b("SphericalVideoComponentDispatcher").dispatch(a)},seekStart:function(a){a={type:"SphericalVideoComponent/seekStart",id:a};b("SphericalVideoComponentDispatcher").dispatch(a)},registerSphericalViewportControl:function(a,c,d){a={type:"SphericalVideoComponent/registerSphericalViewportControl",id:a,sphericalViewportControl:c,viewport:d};b("SphericalVideoComponentDispatcher").dispatch(a)},changeViewport:function(a,c,d,e){a={type:"SphericalVideoComponent/changeViewport",id:a,yaw:c,pitch:d,fieldOfView:e};b("SphericalVideoComponentDispatcher").dispatch(a)},toggleViewportGrabbed:function(a){a={type:"SphericalVideoComponent/toggleViewportGrabbed",id:a};b("SphericalVideoComponentDispatcher").dispatch(a)},updateViewportDimensions:function(a,c,d){a={type:"SphericalVideoComponent/updateViewportDimensions",id:a,width:c,height:d};b("SphericalVideoComponentDispatcher").dispatch(a)},setUserIsInactive:function(a){a={type:"SphericalVideoComponent/setUserIsInactive",id:a};b("SphericalVideoComponentDispatcher").dispatch(a)},setInitialViewport:function(a,c,d){a={type:"SphericalVideoComponent/setInitialViewport",id:a,yaw:c,pitch:d};b("SphericalVideoComponentDispatcher").dispatch(a)}};e.exports=a}),null);
__d("SphericalVideoComponentConstants",[],(function(a,b,c,d,e,f){a={ACTIONS:{REGISTER_VIDEO_PLAYER_CONTROLLER:"SphericalVideoComponent/registerVideoPlayerController",UPDATE_VIDEO_PLAYER_STATE:"SphericalVideoComponent/updateVideoPlayerState",TOGGLE_PLAY:"SphericalVideoComponent/togglePlay",SET_CURRENT_PLAY_TIME:"SphericalVideoComponent/setCurrentPlaytime",SET_VIDEO_DURATION:"SphericalVideoComponent/setVideoDuration",TOGGLE_CHANNEL_VIEW:"SphericalVideoComponent/toggleChannelView",TOGGLE_TAHOE:"SphericalVideoComponent/toggleTahoe",SEEK_START:"SphericalVideoComponent/seekStart",REGISTER_SPHERICAL_VIEWPORT_CONTROL:"SphericalVideoComponent/registerSphericalViewportControl",CHANGE_VIEWPORT:"SphericalVideoComponent/changeViewport",TOGGLE_VIEWPORT_GRABBED:"SphericalVideoComponent/toggleViewportGrabbed",UPDATE_VIEWPORT_DIMENSIONS:"SphericalVideoComponent/updateViewportDimensions",SET_USER_IS_INACTIVE:"SphericalVideoComponent/setUserIsInactive",SET_INITIAL_VIEWPORT:"SphericalVideoComponent/setInitialViewport"}};e.exports=a}),null);
__d("SphericalViewportControlStore",["invariant","FluxMapStore","Rect","SphericalVideoComponentActions","SphericalVideoComponentConstants","SphericalVideoComponentDispatcher","SphericalViewportControl","Vector","clearTimeout","curry","immutable","setTimeout","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={fieldOfView:-1,initialPitch:-1,initialYaw:-1,isInChannelView:!1,isInTahoe:!1,pitch:-1,viewport:null,viewportGrabbed:!1,viewportHeight:0,viewportInactivityTimeout:0,viewportPanStart:!1,viewportWidth:0,yaw:-1};var h=5e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(a));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({sphericalViewportControls:b("immutable").Map({}),sphericalViewportControlStates:b("immutable").Map({})})};d.reduce=function(a,c){__p&&__p();var d=c.id;switch(c.type){case b("SphericalVideoComponentConstants").ACTIONS.REGISTER_SPHERICAL_VIEWPORT_CONTROL:var e=c.sphericalViewportControl,f=c.viewport;e instanceof b("SphericalViewportControl")||g(0,4470);e={"new":!1,control:e};a=this.$SphericalViewportStore1(a,d,e,f);break;case b("SphericalVideoComponentConstants").ACTIONS.CHANGE_VIEWPORT:e=c.yaw;f=c.pitch;var h=c.fieldOfView;a=this.$SphericalViewportStore2(a,d,e,f,h);break;case b("SphericalVideoComponentConstants").ACTIONS.TOGGLE_VIEWPORT_GRABBED:a=this.$SphericalViewportStore3(a,d);break;case b("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIEWPORT_DIMENSIONS:e=c.width;f=c.height;a=this.$SphericalViewportStore4(a,d,e,f);break;case b("SphericalVideoComponentConstants").ACTIONS.TOGGLE_CHANNEL_VIEW:h=c.isInChannelView;a=this.$SphericalViewportStore5(a,d,h);break;case b("SphericalVideoComponentConstants").ACTIONS.TOGGLE_TAHOE:e=c.isInTahoe;a=this.$SphericalViewportStore6(a,d,e);break;case b("SphericalVideoComponentConstants").ACTIONS.SET_USER_IS_INACTIVE:a=this.$SphericalViewportStore7(a,d);break;case b("SphericalVideoComponentConstants").ACTIONS.SET_INITIAL_VIEWPORT:a=this.$SphericalViewportStore8(a,d,c.yaw,c.pitch);break;default:break}return a};d.getViewportControlWrapper=function(a){var b=this.get("sphericalViewportControls");if(b&&b.has(a))return b.get(a);else throw new Error("Video player controller with id "+a+" is not registered")};d.getOrientation=function(a){a=this.$SphericalViewportStore9(this.getState(),a);var b=a.yaw;a=a.pitch;return{yaw:b,pitch:a}};d.getUserIsActive=function(a){a=this.$SphericalViewportStore9(this.getState(),a);return a.viewportInactivityTimeout!==0};d.getFieldOfView=function(a){return this.$SphericalViewportStore9(this.getState(),a).fieldOfView};d.getViewportGrabbed=function(a){return this.$SphericalViewportStore9(this.getState(),a).viewportGrabbed};d.getInitialYaw=function(a){return this.$SphericalViewportStore9(this.getState(),a).initialYaw};d.getInitialPitch=function(a){return this.$SphericalViewportStore9(this.getState(),a).initialPitch};d.getIsInChannelView=function(a){return this.$SphericalViewportStore9(this.getState(),a).isInChannelView};d.getIsInTahoe=function(a){return this.$SphericalViewportStore9(this.getState(),a).isInTahoe};d.getViewportDimensions=function(a){return{width:this.$SphericalViewportStore9(this.getState(),a).viewportWidth,height:this.$SphericalViewportStore9(this.getState(),a).viewportHeight}};d.getViewportPositionVector=function(a){a=this.$SphericalViewportStore9(this.getState(),a);return new(b("Rect"))(a.viewport).getPositionVector()};d.getViewportCenterVector=function(a){var c=this.getViewportPositionVector(a);a=this.getViewportDimensions(a);var d=a.width;a=a.height;d=new(b("Vector"))(d/2,a/2);return c.add(d)};d.onViewportGrabbed=function(a){b("SphericalVideoComponentActions").toggleViewportGrabbed(a)};d.onViewportPanStart=function(a,b){return};d.onViewportPanEnd=function(a){b("SphericalVideoComponentActions").toggleViewportGrabbed(a)};d.onViewportChange=function(a,c,d,e){b("SphericalVideoComponentActions").changeViewport(a,c,d,e)};d.$SphericalViewportStore1=function(a,c,d,e){__p&&__p();var f=a.get("sphericalViewportControls");if(f.has(c))return a;f=f.set(c,d);a=a.set("sphericalViewportControls",f);f=a.get("sphericalViewportControlStates");var g=d.control;d=new i({yaw:g.getOrientation().x,pitch:g.getOrientation().y,fieldOfView:d["new"]?d.control.getOrientation().vFOV:d.control.getVerticalFieldOfView(),viewport:e});f=f.set(c,d);a=a.set("sphericalViewportControlStates",f);g.addListener("viewportChange",b("throttle")(b("curry")(this.onViewportChange,c),16));g.addListener("updateViewportBegin",b("curry")(this.onViewportGrabbed,c));g.addListener("updateViewportEnd",b("curry")(this.onViewportPanEnd,c));return a};d.$SphericalViewportStore2=function(a,c,d,e,f){__p&&__p();var g=[["yaw",d],["pitch",e],["fieldOfView",f]];for(var h=0;h<g.length;h++){var i=g[h],j=i[0];i=i[1];a=this.$SphericalViewportStore10(a,c,j,i)}j=this.getViewportControlWrapper(c);j["new"]?j.control.setOrientation({x:d,y:e,vFOV:f}):(j.control.setSphericalOrientation(d,e),j.control.setFieldOfView(f));i=this.$SphericalViewportStore9(a,c).get("viewportInactivityTimeout");b("clearTimeout")(i);a=this.$SphericalViewportStore10(a,c,"viewportInactivityTimeout",this.$SphericalViewportStore11(c));return a};d.$SphericalViewportStore11=function(a){return b("setTimeout")(function(){return b("SphericalVideoComponentActions").setUserIsInactive(a)},h)};d.$SphericalViewportStore7=function(a,b){a=this.$SphericalViewportStore10(a,b,"viewportInactivityTimeout",0);return a};d.$SphericalViewportStore8=function(a,b,c,d){a=this.$SphericalViewportStore10(a,b,"initialYaw",c);a=this.$SphericalViewportStore10(a,b,"initialPitch",d);return a};d.$SphericalViewportStore4=function(a,b,c,d){a=this.$SphericalViewportStore10(a,b,"viewportWidth",c);a=this.$SphericalViewportStore10(a,b,"viewportHeight",d);return a};d.$SphericalViewportStore3=function(a,b){var c=this.$SphericalViewportStore9(a,b).viewportGrabbed;return this.$SphericalViewportStore10(a,b,"viewportGrabbed",!c)};d.$SphericalViewportStore5=function(a,b,c){return this.$SphericalViewportStore10(a,b,"isInChannelView",c)};d.$SphericalViewportStore6=function(a,b,c){return this.$SphericalViewportStore10(a,b,"isInTahoe",c)};d.$SphericalViewportStore10=function(a,b,c,d){var e=this.$SphericalViewportStore9(a,b),f=a.get("sphericalViewportControlStates");e=e.set(c,d);f=f.set(b,e);return a.set("sphericalViewportControlStates",f)};d.$SphericalViewportStore9=function(a,b){a=a.get("sphericalViewportControlStates").get(b);a||this.$SphericalViewportStore12(b);return a};d.$SphericalViewportStore12=function(a){throw new Error("Viewport control with id "+a+" does not exist")};return c}(b("FluxMapStore"));c.__moduleID=e.id;e.exports=new c(b("SphericalVideoComponentDispatcher"))}),null);
__d("VideoPlayerControllerStore",["FluxMapStore","SphericalVideoComponentActions","SphericalVideoComponentConstants","SphericalVideoComponentDispatcher","VideoPlayerReasonTransitionHelper","curry","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({currentTime:-1,currentVideoPlayerState:"unknown",durationSeconds:-1,videoId:""}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onVideoPlayerControllerStateChange=function(a){var c=a.getVideoPlayerID(),e=d.$VideoPlayerControllerStore6(d.getState(),c);e=e.videoPlayerState;a=a.getState();e!==a&&b("SphericalVideoComponentActions").updateVideoPlayerState(c,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({videoPlayerControllers:b("immutable").Map({}),videoPlayerControllerStates:b("immutable").Map({})})};d.reduce=function(a,c){__p&&__p();var d=c.id;switch(c.type){case b("SphericalVideoComponentConstants").ACTIONS.REGISTER_VIDEO_PLAYER_CONTROLLER:var e=c.controller;a=this.$VideoPlayerControllerStore1(a,e,d);break;case b("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIDEO_PLAYER_STATE:a=this.$VideoPlayerControllerStore2(a,d,c.state);break;case b("SphericalVideoComponentConstants").ACTIONS.TOGGLE_PLAY:a=this.$VideoPlayerControllerStore3(a,d,c.nextIsPlaying);break;case b("SphericalVideoComponentConstants").ACTIONS.SET_CURRENT_PLAY_TIME:a=this.$VideoPlayerControllerStore4(a,d,c.time);break;case b("SphericalVideoComponentConstants").ACTIONS.SET_VIDEO_DURATION:a=this.$VideoPlayerControllerStore5(a,d,c.durationSeconds);break;default:break}return a};d.getVideoPlayerController=function(a){var b=this.get("videoPlayerControllers");if(b&&b.has(a))return b.get(a);else throw new Error("Video player controller with id "+a+" is not registered")};d.getIsVideoPlayable=function(a){a=this.$VideoPlayerControllerStore6(this.getState(),a).currentVideoPlayerState;return a!=="fallback"&&a!=="destroyed"&&a!=="unknown"};d.getIsPlaying=function(a){var b=this.getVideoPlayerController(a).isBuffering();a=this.$VideoPlayerControllerStore6(this.getState(),a).currentVideoPlayerState;return a==="playing"&&!b};d.getCurrentTime=function(a){return this.$VideoPlayerControllerStore6(this.getState(),a).currentTime};d.getVideoID=function(a){return this.$VideoPlayerControllerStore6(this.getState(),a).videoId};d.$VideoPlayerControllerStore1=function(a,c,d){__p&&__p();var e=a.get("videoPlayerControllers");if(e.has(d))return a;e=e.set(d,c);a=a.set("videoPlayerControllers",e);e=a.get("videoPlayerControllerStates");var f=new g({isPlaying:c.isState("playing"),currentTime:c.getCurrentTimePosition(),videoId:c.getVideoID()});e=e.set(d,f);a=a.set("videoPlayerControllerStates",e);c.addListener("stateChange",b("curry")(this.onVideoPlayerControllerStateChange,c));c.addListener("updateStatus",b("curry")(this.onTimeUpdate,c));c.addListener("updateMetadata",b("curry")(this.onUpdateMetaData,c));c.addListener("VideoChannelController/pendingElementsShown",b("curry")(this.onToggleChannelView,c,!0));c.addListener("VideoChannelController/exitChannel",b("curry")(this.onToggleChannelView,c,!1));c.addListener("seekRequested",b("curry")(this.onSeekStart,c));c.addListener("TahoeController/enterTahoe",b("curry")(this.onToggleTahoe,c,!0));c.addListener("TahoeController/exitTahoe",b("curry")(this.onToggleTahoe,c,!1));return a};d.onTimeUpdate=function(a,c){b("SphericalVideoComponentActions").setCurrentVideoTime(a.getVideoPlayerID(),c.position)};d.onSeekStart=function(a){b("SphericalVideoComponentActions").seekStart(a.getVideoPlayerID())};d.onUpdateMetaData=function(a){b("SphericalVideoComponentActions").setVideoDuration(a.getVideoPlayerID(),a.getPlaybackDuration())};d.onToggleChannelView=function(a,c){b("SphericalVideoComponentActions").toggleChannelView(a.getVideoPlayerID(),c)};d.onToggleTahoe=function(a,c){b("SphericalVideoComponentActions").toggleTahoe(a.getVideoPlayerID(),c)};d.$VideoPlayerControllerStore3=function(a,c,d){var e=this.getVideoPlayerController(c);c=this.$VideoPlayerControllerStore6(this.getState(),c);c=c.currentVideoPlayerState;(c==="playing"&&!d||c==="paused"&&d)&&(d?e.play(new(b("VideoPlayerReasonTransitionHelper"))("user_initiated")):e.pause());return a};d.$VideoPlayerControllerStore4=function(a,b,c){return this.$VideoPlayerControllerStore7(a,b,"currentTime",c)};d.$VideoPlayerControllerStore2=function(a,b,c){return this.$VideoPlayerControllerStore7(a,b,"currentVideoPlayerState",c)};d.$VideoPlayerControllerStore5=function(a,b,c){return this.$VideoPlayerControllerStore7(a,b,"durationSeconds",c)};d.$VideoPlayerControllerStore6=function(a,b){a=a.get("videoPlayerControllerStates").get(b);a||this.$VideoPlayerControllerStore8(b);return a};d.$VideoPlayerControllerStore7=function(a,b,c,d){var e=a.get("videoPlayerControllerStates"),f=this.$VideoPlayerControllerStore6(a,b);f=f.set(c,d);e=e.set(b,f);return a.set("videoPlayerControllerStates",e)};d.$VideoPlayerControllerStore8=function(a){throw new Error("Video player controller with id "+a+" does not exist")};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("SphericalVideoComponentDispatcher"))}),null);
__d("SphericalVideoHalfEquirectConfig",["SphericalMediaConstants"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("SphericalMediaConstants")).HALF_EQUIRECT_PARTIAL_LIMIT,h=a.RB_FRICTION,i=a.RB_MAX_SPRING_DEGREE,j=a.RB_MAX_STRETCH_X_DEGREE,k=a.RB_MAX_STRETCH_Y_DEGREE,l=a.RB_SPRING_FACTOR;c={getHalfEquirectangularPartialLimits:function(){return{partialLeftDegrees:g,partialRightDegrees:g,partialTopDegrees:g,partialBottomDegrees:g}},getHalfEquirectangularControllerConfig:function(){return{enableRubberBanding:!0,springFactor:l,maxSpringDegrees:i,maxStretchXDegrees:j,maxStretchYDegrees:k,rubberBandConstant:h}}};e.exports=c}),null);
__d("SphericalMediaUtils",[],(function(a,b,c,d,e,f){"use strict";a={getDPR:function(){return Math.max(window.devicePixelRatio||1,1)}};e.exports=a}),null);
__d("SphericalMediaHeadingIndicator.react",["cx","EventListener","React","SphericalMediaConstants","SphericalMediaUtils","SphericalPhotoProjectionUtils","SubscriptionsHandler","calculateHFOVFromVFOV","degToRad","easeInOutInterpolate","requestAnimationFrame","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(a=b("SphericalMediaConstants")).HI_SIZE_NORMAL,i=a.HI_SIZE_FULL,j=a.HI_ALPHA_BG,k=a.HI_ALPHA_ELEMENT,l=a.HI_ALPHA_DURATION,m=a.HI_FADE_OUT_DELAY,n=a.HI_BLINK_ARC_RAD,o=a.HI_BLINK_DURATION,p=b("SphericalMediaUtils").getDPR,q=function(a){return a!==void 0&&a!==null},r=function(a,b,c,d){a.beginPath(),a.arc(b.x,b.y,c*p(),0,2*Math.PI,!1),a.fillStyle=d,a.lineWidth=0,a.fill()},s=function(a,b,c,d,e,f,g){var h=p();a.beginPath();a.arc(b.x,b.y,c*h,d,e,!1);a.lineWidth=f*h;a.strokeStyle=g;a.stroke()};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$13=function(){var a=d.__getDrawData();if(!q(a.poiYaw)){d.$11=!1;d.draw(a);return}var c=(Date.now()-d.__blinkStartTime)%o<o/2;d.$11!==c&&(d.$11=c,d.draw(a));b("requestAnimationFrame")(d.$13)};d.$15=function(){if(d.$6===j.end)return;d.$25(j.start,j.end,k.start,k.end)};d.$16=function(){if(d.$6===j.start)return;d.$25(j.end,j.start,k.end,k.start)};d.$2=b("uniqueID")();d.$5=0;d.$6=j.start;d.$7=k.start;d.$8=null;d.$9=!1;d.$10=!1;d.$11=!1;if(!d.constructor.__subClassMethods)throw new Error('Must implement "static __subClassMethods"');for(var e in d.constructor.__subClassMethods)if(typeof babelHelpers.assertThisInitialized(d)[e]!=="function")throw new Error('Must implement "'+e+'"');b("requestAnimationFrame")(d.$13);return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=a.isActive&&a.isPanning!==this.props.isPanning;b&&this.$14(a.isPanning)};d.shouldComponentUpdate=function(a){a=a.aspectRatio!==this.props.aspectRatio||a.isActive!==this.props.isActive||a.isGuideAuto!==this.props.isGuideAuto||a.useLargeHeadingIndicator!==this.props.useLargeHeadingIndicator;return a};d.$14=function(a,b){var c=this;b===void 0&&(b=!0);this.$5+=a?1:-1;a?(this.$8!==null&&clearTimeout(this.$8),this.$15()):this.$5===0&&(this.$8=setTimeout(function(){c.$8=null,c.$16()},b?m:0))};d.$17=function(){var a=this.$18(),b=p();return{width:a.width*b,height:a.height*b}};d.$18=function(){return this.props.useLargeHeadingIndicator?i:h};d.$19=function(){var a=this.$17();return{x:a.width/2,y:a.height/2}};d.draw=function(a){__p&&__p();if(!this.$1)return;var b=this.$1,c=this.$17();(b.width!==c.width||b.height!==c.height)&&(b.width=c.width,b.height=c.height);b=b.getContext("2d");if(!b)return;b.save();b.clearRect(0,0,c.width,c.height);this.$20(b,a);this.$21(b,a);this.$22(b,a);b.restore()};d.$20=function(a,c){__p&&__p();var d=this.$18(),e=this.$19(),f=c.fov*this.props.aspectRatio;f=b("degToRad")(f)/2;r(a,e,d.background_radius,this.$23());if(this.props.isGuideAuto){var g=d.inner_radius+d.inner_stroke/2-d.center_radius;s(a,e,d.center_radius+g/2,0,2*Math.PI,g,this.$24())}else{r(a,e,d.center_radius,this.$24());g=this.props.partialLimits;if(g&&g.partialLeftDegrees&&g.partialRightDegrees){var h=g.partialLeftDegrees;g=g.partialRightDegrees;s(a,e,d.inner_radius,0,2*Math.PI,d.inner_stroke,this.getPartialPanoElementColor());c=270-c.initialYaw;h=b("degToRad")(h*-1+c+f);g=b("degToRad")(g+c-f);s(a,e,d.inner_radius,h||0,g||0,d.inner_stroke,this.$24())}else s(a,e,d.inner_radius,0,2*Math.PI,d.inner_stroke,this.$24())}};d.$22=function(a,c){__p&&__p();var d=this.$18(),e=this.$19();if(this.props.isGuideAuto&&this.$11){var f=b("degToRad")((c.poiYaw||0)-c.initialYaw)-Math.PI/2;s(a,e,d.rim_radius,f-n/2,f+n/2,d.rim_stroke,this.$24())}f=p();var g=d.triangle[0]*f,h=d.triangle[1]*f;d=d.triangle[2]*f;a.translate(e.x,e.y);if(c.pointerYaw){f=c.pointerYaw-c.initialYaw;a.rotate(b("degToRad")(f||0))}a.beginPath();a.moveTo(0,g-e.y);a.lineTo(-h,d-e.y);a.lineTo(h,d-e.y);a.fillStyle=this.$24();a.fill()};d.$21=function(a,c){__p&&__p();var d=this.$18(),e=this.$19(),f=this.props,g=f.partialLimits,h=f.aspectRatio;f=f.showNewPhotoRenderer;var i=c.yaw-c.initialYaw,j=b("calculateHFOVFromVFOV")(c.fov,this.props.aspectRatio);j=b("degToRad")(j)/2;if(f&&g){f=b("SphericalPhotoProjectionUtils").getRelativeHfov(c.fov,h,g);j=f/2}c=b("degToRad")(i)-Math.PI/2;h=this.props.isGuideAuto;if(h){g=p();a.save();a.beginPath();a.lineWidth=d.arc_stroke*g;a.arc(e.x,e.y,(d.arc_radius+d.arc_stroke/2)*g,c-j,c+j,!1);a.arc(e.x,e.y,(d.arc_radius-d.arc_stroke/2)*g,c+j,c-j,!0);a.clip();f=this.$17();a.clearRect(0,0,f.width,f.height);a.restore()}s(a,e,d.arc_radius,c-j,c+j,d.arc_stroke,h?this.$23():this.$24())};d.getPartialPanoElementColor=function(){return"rgba(255, 255, 255, "+this.$7*.4+")"};d.$24=function(){return"rgba(255, 255, 255, "+this.$7+")"};d.$23=function(){return"rgba(0, 0, 0, "+this.$6+")"};d.$25=function(a,c,d,e){__p&&__p();var f=this;this.$10=this.$9;this.$9=!0;var g=Date.now(),h=function a(d){__p&&__p();var h=Date.now();if(f.$10){f.$10=!1;return}if(h-g>l){f.$9=!1;f.$6=c;f.$7=e;return}b("requestAnimationFrame")(function(){a(d)});h=b("easeInOutInterpolate")((h-g)/l);var i=d.deltaAlphaBG*h+d.startAlphaBG;h=d.deltaAlphaElement*h+d.startAlphaElement;f.$6=i;f.$7=h;f.draw(f.__getDrawData())},i=c-a,j=e-d;b("requestAnimationFrame")(function(){h({startAlphaBG:a,deltaAlphaBG:i,startAlphaElement:d,deltaAlphaElement:j})})};d.componentDidMount=function(){var a=this;this.props.isActive&&this.draw(this.__getDrawData());this.props.useNativeListeners&&(this.$12=new(b("SubscriptionsHandler"))(),this.$12.addSubscriptions(b("EventListener").listen(this.$4,"click",function(b){return a.__onClick(b)}),b("EventListener").listen(this.$4,"mouseover",function(){return a.$14(!0)}),b("EventListener").listen(this.$4,"mouseout",function(){return a.$14(!1,!1)})))};d.componentDidUpdate=function(){this.props.isActive&&this.draw(this.__getDrawData()),b("requestAnimationFrame")(this.$13)};d.componentWillUnmount=function(){this.$1=null,this.props.useNativeListeners&&this.$12.release()};d.render=function(){var a=this,c=this.$18(),d=this.props.isActive,e={};this.props.useNativeListeners||(e.onClick=function(b){return a.__onClick(b)},e.onMouseOver=function(){return a.$14(!0)},e.onMouseOut=function(){return a.$14(!1,!1)});return b("React").jsx("button",babelHelpers["extends"]({},e,{ref:function(b){return a.$4=b},className:"_17az sphericalHeadingIndicator"+(d?"":" hidden_elem"),style:{width:c.width,height:c.height},children:b("React").jsx("div",{className:"_17a-",ref:function(b){return a.$3=b},children:b("React").jsx("canvas",{className:"_5nxw _17ay",ref:function(b){return a.$1=b}})})}))};return c}(b("React").Component);e.exports=c}),null);
__d("SphericalVideoHeadingIndicator.react",["cx","fbt","BasicFBNux","React","SphericalMediaHeadingIndicator.react","SphericalPhotoPartialLimits","SphericalVideoExperiments","SphericalVideoHalfEquirectConfig","SphericalViewportControlStore","SubscriptionsHandler","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("SphericalPhotoPartialLimits").makePartialLimits,j=4320,k=h._("You're watching the best views from this 360 video only. You can swipe or drag the video to watch it manually."),l=function(a){return a!==void 0&&a!==null},m=function(b){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a){a=b.call(this,a)||this;l(a.__getDrawData().poiYaw)&&(a.__blinkStartTime=Date.now());return a}var c=a.prototype;c.__onClick=function(a){this.props.onClick(a)};c.__getDrawData=function(){return{fov:this.props.fov,initialYaw:this.props.initialYaw,pointerYaw:this.props.pointerYaw,poiYaw:this.props.poiYaw,yaw:this.props.yaw}};c.$SphericalHeadingIndicatorImpl1=function(a){return{fov:a.fov,initialYaw:a.initialYaw,pointerYaw:a.pointerYaw,poiYaw:a.poiYaw,yaw:a.yaw}};c.UNSAFE_componentWillReceiveProps=function(a){b.prototype.UNSAFE_componentWillReceiveProps.call(this,a);!l(this.props.poiYaw)&&l(a.poiYaw)&&(this.__blinkStartTime=Date.now());var c=a.isActive===this.props.isActive&&(a.initialYaw!==this.props.initialYaw||a.aspectRatio!==this.props.aspectRatio||a.fov!==this.props.fov||a.yaw!==this.props.yaw||a.pointerYaw!==this.props.pointerYaw||a.poiYaw!==this.props.poiYaw);c&&this.draw(this.$SphericalHeadingIndicatorImpl1(a))};c.shouldComponentUpdate=function(a){a=b.prototype.shouldComponentUpdate.call(this,a)||a.poiYaw!==this.props.poiYaw;return a};return a}(b("SphericalMediaHeadingIndicator.react"));m.__subClassMethods={__onClick:!0,__getDrawData:!0};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$6=!1;d.$1=c.controller;d.$5=c.isComposer;d.$5||(d.$3=j,d.$4=k);d.$2=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1.getOption("SphericalVideoPlayer","isReady")?this.$7():this.$2.addSubscriptions(this.$1.once("SphericalVideoPlayer/ready",function(){return a.$7()}))};d.componentWillUnmount=function(){this.$2.release()};d.$7=function(){__p&&__p();var a=this,c,d=this.$1.getVideoPlayerID();this.$2.addSubscriptions(this.$1.addListener("PhotoSnowlift/enterSnowlift",function(){return a.$8(!0)}),this.$1.addListener("PhotoSnowlift/exitSnowlift",function(){return a.$8(!1)}),this.$1.addListener("toggleFullscreen",function(){return a.$9()}),this.$1.addListener("beginPlayback",function(){return a.$10(!0)}),this.$1.addListener("finishPlayback",function(){return a.$10(!1)}),this.$1.addListener("VideoChannelController/enterChannel",function(){return a.$11(!0)}),this.$1.addListener("VideoChannelController/exitChannel",function(){return a.$11(!1)}),this.$1.addListener("TahoeController/enterTahoe",function(){return a.$12(!0)}),this.$1.addListener("TahoeController/exitTahoe",function(){return a.$12(!1)}),(c=b("SphericalViewportControlStore")).addListener(function(){var c=b("SphericalViewportControlStore"),e=c.getOrientation(d),f=e.pitch;e=e.yaw;a.setState({isActive:c.getViewportGrabbed(d),pitch:f,yaw:e,fov:c.getFieldOfView(d)})}),this.$1.addListener("SphericalVideoRecenterControl/animationStart",function(){return a.$13(!0)}),this.$1.addListener("SphericalVideoRecenterControl/animationEnd",function(){return a.$13(!1)}),this.$1.addListener("VideoControls/visibilityUpdate",function(b){b=b.areControlsVisible;return a.$13(b)}),this.$1.addListener("viewportChange",function(b,c){return a.forceUpdate()}),this.$1.addListener("VideoWithSphericalGuide/viewportChange",function(b){return a.setState({pointerYaw:b})}),this.$1.addListener("VideoWithSphericalGuide/intervalUpdate",function(b){return a.$14(b)}),this.$1.addListener("VideoWithSphericalGuide/toggle",function(b){return a.setState({isGuideAuto:b})}),this.$1.addListener("VideoWithSphericalGuide/stateToggle",function(b){b||a.setState({isGuideAuto:!1,poiYaw:void 0,pointerYaw:0})}));this.setState({isVisible:this.$1.isState("playing"),isActive:!1,inChannel:this.$1.getIsInChannel(),inSnowlift:this.$1.getOption("PhotoSnowlift","isInSnowlift"),inTahoe:this.$1.getSource()==="tahoe",inFullscreen:this.$1.isFullscreen(),isGuideAuto:this.$1.getOption("VideoWithSphericalGuide","auto"),showGuideNux:b("SphericalVideoExperiments").showGuideNux,pitch:c.getOrientation(d).pitch,yaw:c.getOrientation(d).yaw,fov:c.getFieldOfView(d)});this.$6=!0};d.$10=function(a){this.setState({isVisible:a})};d.$9=function(){this.setState({inFullscreen:this.$1.isFullscreen()})};d.$11=function(a){this.setState({inChannel:a})};d.$8=function(a){this.setState({inSnowlift:a})};d.$12=function(a){this.setState({inTahoe:a})};d.$13=function(a){this.setState({isActive:a})};d.$15=function(){this.setState({showGuideNux:!1}),b("BasicFBNux").onDismiss(j)};d.$14=function(a){var b=a.deltaPitch===0&&a.deltaYaw===0;a=b?void 0:a.baseYaw+a.deltaYaw;this.setState({poiYaw:a,isActive:!b})};d.render=function(){__p&&__p();var a=this;if(!this.$6)return null;var c=this.$1.getOption("SphericalVideoPlayer","getDimensions"),d=c.width;c=c.height;var e=!this.state.inChannel&&!this.state.inSnowlift&&!this.state.inFullscreen&&!this.state.inTahoe,f=this.$1.getOption("VideoWithSphericalGuide","enabled"),g;this.$5||(g=this.state.showGuideNux&&f);f={};var h=this.$1.getOption("SphericalVideoPlayer","getIsSingleFisheye");if(h){h=this.$1.getOption("SphericalVideoPlayer","getOriginalFOV");h!==null&&h!==0&&(f.partialLimits=i({partialLeftDegrees:h/2,partialRightDegrees:h/2,partialTopDegrees:0,partialBottomDegrees:0}))}h=this.$1.getOption("SphericalVideoPlayer","getIsHalfEquirectangular");h&&(f.partialLimits=i(b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularPartialLimits()));return b("React").jsxs("div",{className:"_3ldo"+(e?" _42a0":"")+(this.state.inTahoe?" _4l1h":"")+(this.state.inFullscreen?" _70uh":""),children:[b("React").jsx(m,babelHelpers["extends"]({ref:"compass",aspectRatio:d/c,initialYaw:this.props.initialYaw,isActive:this.state.isVisible,fov:this.state.fov,pitch:this.state.pitch,yaw:this.state.yaw,onClick:this.props.onClick,useLargeHeadingIndicator:this.state.inFullscreen,isPanning:this.state.isActive,isGuideAuto:this.state.isGuideAuto,pointerYaw:this.state.pointerYaw,poiYaw:this.state.poiYaw},f)),b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.compass},shown:g,position:"left",onCloseButtonClick:function(){return a.$15()},children:this.$4})]})};return c}(b("React").Component);e.exports=a}),null);
__d("SphericalVideoPerformanceTracker",["MovingAverage","SphericalMediaPerformanceTypedLogger","Visibility","performance"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("MovingAverage").MovingAverage;a=60;c=1e3;var i=10*c,j=15,k=c/a;d=function(){"use strict";__p&&__p();function a(){__p&&__p();var c=this;a.$1=!1;this.$10=new h(500,k);this.$11=new(b("SphericalMediaPerformanceTypedLogger"))();this.$12=!1;this.$7=-1;this.$8=-1;this.$5=!1;this.$6=!1;var d=function(){c.$4=!1,c.$16()},e=function(){c.$4=!0};b("Visibility").isHidden()?d():e();b("Visibility").addListener(b("Visibility").HIDDEN,d);b("Visibility").addListener(b("Visibility").VISIBLE,e)}a.get=function(){a.$2||(a.$2=new a());return a.$2};var c=a.prototype;c.addFrameAtTime=function(b){__p&&__p();if(!this.$4)return;if(b!==this.$9){a.$1=!0;this.$9=b;if(!this.$3)this.$3=b;else{var c=b-this.$3;this.$3=b;this.$10.add(c);this.$12||(this.$17(),this.$12=!0)}}};c.setProjection=function(a){this.$15=a;return this};c.trackSpatialAudioMetrics=function(){this.$5=!0,this.$14=0};c.isTrackingSpatialAudioMetrics=function(){return this.$5};c.addAudioStutter=function(){this.isTrackingSpatialAudioMetrics()||this.trackSpatialAudioMetrics(),this.$14++};c.enterSpatialAudioFallback=function(){this.isTrackingSpatialAudioMetrics()||this.trackSpatialAudioMetrics(),this.$7=(g||(g=b("performance"))).now()};c.exitSpatialAudioFallback=function(){this.isTrackingSpatialAudioMetrics()||this.trackSpatialAudioMetrics();if(this.$7>0){var a=Math.trunc((g||(g=b("performance"))).now()-this.$7);this.$7=-1;this.$11.setProductName("spatial_audio").setEvent("audio_fallback").setFallbackDuration(a).setFallbackReason("channel").log();this.$11.clear()}};c.trackSphericalRendererMetrics=function(){this.$6=!0};c.isTrackingSphericalRendererMetrics=function(){return this.$6};c.isOne360VideoActive=function(){return a.$1};c.enterSphericalRendererSetup=function(){this.isTrackingSphericalRendererMetrics()||this.trackSphericalRendererMetrics(),this.$8=(g||(g=b("performance"))).now()};c.exitSphericalRendererSetup=function(){this.isTrackingSphericalRendererMetrics()||this.trackSphericalRendererMetrics();if(this.$8>0){var a=Math.trunc((g||(g=b("performance"))).now()-this.$8);this.$8=-1;this.$11.setProductName("spherical_video").setEvent("spherical_renderer_setup").setProjection(this.$15).setSphericalRendererSetupDuration(a).log();this.$11.clear()}};c.log=function(){__p&&__p();if(!this.isOne360VideoActive())return;else{var a=Math.trunc(this.$18()*Math.pow(10,j));this.$11.setProductName("spherical_video").setEvent("snapshot").setNormalizedFrameTime(a);this.$15&&this.$11.setProjection(this.$15);this.$5&&(this.$11.setProductName("spatial_audio").setNumSpatialAudioStutters(this.$14),this.$14=0);this.$11.log();this.$11.clear()}this.$16()};c.destroy=function(){clearInterval(this.$13),a.$2=null};c.$18=function(){return this.$10.getAvg()/k};c.$16=function(){this.$3=null,a.$1=!1};c.$17=function(){this.$13=setInterval(this.log.bind(this),i)};return a}();e.exports=d}),null);
__d("CDSFallback.fs",[],(function(a,b,c,d,e,f){e.exports="\n  varying highp vec2 vTextureCoord;\n  varying highp vec3 vPos;\n  varying lowp float vRecompute;\n\n  uniform highp vec2 uOffset;\n  uniform sampler2D uSampler;\n\n  highp vec2 EquirectPart( highp vec3 p )\n  {\n    highp float xz = sqrt( p.x * p.x + p.z * p.z );\n    highp float lat = -atan( p.y, xz );\n    highp float t = lat / 1.57079633 / 1.01 + 0.5;\n    highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n    highp vec2 st = vec2(s, t);\n    return st;\n  }\n\n  highp vec2 FacePart( highp vec3 p )\n  {\n      highp vec2 t = p.xz / p.y;\n      highp float s = sign(p.y);\n      return vec2(0.9 + t.x * s * 0.099009901,\n          0.5 - s * 0.25 - t.y * 0.247524752);\n  }\n\n  void main()\n  {\n    if (vRecompute > 0.0) {\n      highp vec3 v = normalize( vPos );\n      highp float d = length( v.xz );\n      highp vec2 t = normalize(v.xz / d + uOffset) * d;\n      v = vec3(t.x, v.y, t.y);\n      highp vec2 o;\n      if ( abs(v.y) < 0.707106781 ) {\n        o = EquirectPart( v );\n      } else {\n        o = FacePart( v );\n      }\n      gl_FragColor = texture2D( uSampler, o );\n    } else {\n      gl_FragColor = texture2D( uSampler, vTextureCoord );\n    }\n  }\n"}),null);
__d("CDSFallback.vs",[],(function(a,b,c,d,e,f){e.exports="\n  attribute vec3 aVertexPosition;\n\n  // It's actually inverse MV matrix\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n  uniform highp vec2 uOffset;\n\n  varying highp vec2 vTextureCoord;\n  varying highp vec3 vPos;\n  varying lowp float vRecompute;\n\n  highp vec2 EquirectPart( highp vec3 p )\n  {\n    highp float xz = sqrt( p.x * p.x + p.z * p.z );\n    highp float lat = -atan( p.y, xz );\n    highp float t = lat / 1.57079633 / 1.01 + 0.5;\n    highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n    highp vec2 st = vec2(s, t);\n    return st;\n  }\n  highp vec2 FacePart( highp vec3 p )\n  {\n      highp vec2 t = p.xz / p.y;\n      highp float s = sign(p.y);\n      return vec2(0.9 + t.x * s * 0.099009901,\n          0.5 - s * 0.25 - t.y * 0.247524752);\n  }\n\n  const float eps = 0.03;\n\n  void main(void) {\n    gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n    vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n    highp vec3 v = normalize( vPos );\n    highp float d = length( v.xz );\n    highp vec2 t = normalize(v.xz / d + uOffset) * d;\n    v = vec3(t.x, v.y, t.y);\n    vRecompute = 0.0;\n    if ( abs(v.y) < 0.707106781 ) {\n      vTextureCoord = EquirectPart( v );\n      vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n          vTextureCoord.x > 0.8 - eps * 0.5 );\n    } else {\n      vTextureCoord = FacePart( v );\n      vRecompute += float( abs(v.y) > 1.0 - eps );\n    }\n    vRecompute += float( abs(v.y) < 0.707106781 + eps &&\n        abs(v.y) > 0.707106781 - eps );\n  }\n"}),null);
__d("CDSRenderer.fs",[],(function(a,b,c,d,e,f){e.exports="\n  varying highp vec2 vTextureCoord;\n  varying highp vec3 vPos;\n  varying lowp float vRecompute;\n  varying highp vec2 vOffset;\n\n  uniform sampler2D uSampler;\n\n  highp vec2 EquirectPart( highp vec3 p )\n  {\n    highp float xz = sqrt( p.x * p.x + p.z * p.z );\n    highp float lat = -atan( p.y, xz );\n    highp float t = lat / 1.57079633 / 1.01 + 0.5;\n    highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n    highp vec2 st = vec2(s, t);\n    return st;\n  }\n\n  highp vec2 FacePart( highp vec3 p )\n  {\n      highp vec2 t = p.xz / p.y;\n      highp float s = sign(p.y);\n      return vec2(0.9 + t.x * s * 0.099009901,\n          0.5 - s * 0.25 - t.y * 0.247524752);\n  }\n\n  void main()\n  {\n    if (vRecompute > 0.0) {\n      highp vec3 v = normalize( vPos );\n      highp float d = length( v.xz );\n      highp vec2 t = normalize(v.xz / d + vOffset) * d;\n      v = vec3(t.x, v.y, t.y);\n      highp vec2 o;\n      if ( abs(v.y) < 0.707106781 ) {\n        o = EquirectPart( v );\n      } else {\n        o = FacePart( v );\n      }\n      gl_FragColor = texture2D( uSampler, o );\n    } else {\n      gl_FragColor = texture2D( uSampler, vTextureCoord );\n    }\n  }\n"}),null);
__d("CDSRenderer.vs",[],(function(a,b,c,d,e,f){e.exports="\n  attribute vec3 aVertexPosition;\n\n  uniform sampler2D uSampler;\n  // It's actually inverse MV matrix\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n\n  varying highp vec2 vTextureCoord;\n  varying highp vec3 vPos;\n  varying lowp float vRecompute;\n  varying highp vec2 vOffset;\n\n  highp vec2 EquirectPart( highp vec3 p )\n  {\n    highp float xz = sqrt( p.x * p.x + p.z * p.z );\n    highp float lat = -atan( p.y, xz );\n    highp float t = lat / 1.57079633 / 1.01 + 0.5;\n    highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n    highp vec2 st = vec2(s, t);\n    return st;\n  }\n\n  highp vec2 FacePart( highp vec3 p )\n  {\n      highp vec2 t = p.xz / p.y;\n      highp float s = sign(p.y);\n      return vec2(0.9 + t.x * s * 0.099009901,\n          0.5 - s * 0.25 - t.y * 0.247524752);\n  }\n\n  highp vec4 extractFromSample(highp vec4 c)\n  {\n    highp float minC = min(0.5, min(c.r, min(c.g, c.b)));\n    highp float diffC = max(0.5, max(c.r, max(c.g, c.b))) - minC + 0.001;\n    return step(0.5, (c - minC) / diffC);\n  }\n\n  highp vec2 parseOffset()\n  {\n    highp float calculated_offsetX, calculated_offsetZ;\n    highp float offset_v, offset_e, offset_sig; // temp variables\n    highp vec4 texCoordsX[7], texCoordsZ[7]; // constants\n\n    texCoordsX[0] = extractFromSample(texture2D(uSampler, vec2(0.396, 1.0)));\n    texCoordsX[1] = extractFromSample(texture2D(uSampler, vec2(0.404, 1.0)));\n    texCoordsX[2] = extractFromSample(texture2D(uSampler, vec2(0.412, 1.0)));\n    texCoordsX[3] = extractFromSample(texture2D(uSampler, vec2(0.420, 1.0)));\n    texCoordsX[4] = extractFromSample(texture2D(uSampler, vec2(0.428, 1.0)));\n    texCoordsX[5] = extractFromSample(texture2D(uSampler, vec2(0.436, 1.0)));\n    texCoordsX[6] = extractFromSample(texture2D(uSampler, vec2(0.444, 1.0)));\n\n    offset_v = texCoordsX[0].r * 0.0009765625\n      + dot(texCoordsX[1].bgr, vec3(0.001953125, 0.00390625, 0.0078125))\n      + dot(texCoordsX[2].bgr, vec3(0.015625, 0.03125, 0.0625))\n      + dot(texCoordsX[3].bgr, vec3(0.125, 0.25, 0.5))\n      + 1.0;\n\n    offset_e = dot(texCoordsX[4].bgr, vec3(1.0, 2.0, 4.0))\n      + dot(texCoordsX[5].bgr, vec3(8.0, 16.0, 32.0))\n      + dot(texCoordsX[6].bg, vec2(64.0, 128.0))\n      - 127.0;\n\n    offset_sig = -2.0 * texCoordsX[6].r + 1.0;\n    calculated_offsetX = offset_sig * offset_v * pow(2.0, offset_e);\n\n\n    texCoordsZ[0] = extractFromSample(texture2D(uSampler, vec2(0.572, 1.0)));\n    texCoordsZ[1] = extractFromSample(texture2D(uSampler, vec2(0.580, 1.0)));\n    texCoordsZ[2] = extractFromSample(texture2D(uSampler, vec2(0.588, 1.0)));\n    texCoordsZ[3] = extractFromSample(texture2D(uSampler, vec2(0.596, 1.0)));\n    texCoordsZ[4] = extractFromSample(texture2D(uSampler, vec2(0.604, 1.0)));\n    texCoordsZ[5] = extractFromSample(texture2D(uSampler, vec2(0.612, 1.0)));\n    texCoordsZ[6] = extractFromSample(texture2D(uSampler, vec2(0.620, 1.0)));\n\n    offset_v = dot(texCoordsZ[0].bgr, vec3(0.0009765625, 0.001953125, 0.00390625))\n      + dot(texCoordsZ[1].bgr, vec3(0.0078125, 0.015625, 0.03125))\n      + dot(texCoordsZ[2].bgr, vec3(0.0625, 0.125, 0.25))\n      + texCoordsZ[3].b * 0.5\n      + 1.0;\n\n    offset_e = dot(texCoordsZ[3].gr, vec2(1.0, 2.0))\n      + dot(texCoordsZ[4].bgr, vec3(4.0, 8.0, 16.0))\n      + dot(texCoordsZ[5].bgr, vec3(32.0, 64.0, 128.0))\n      - 127.0;\n\n    offset_sig = 2.0 * texCoordsZ[6].b - 1.0;\n    calculated_offsetZ = offset_sig * offset_v * pow(2.0, offset_e);\n\n    return vec2(calculated_offsetX, calculated_offsetZ);\n  }\n\n  const float eps = 0.03;\n\n  void main(void) {\n    gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n    vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n    highp vec3 v = normalize( vPos );\n    vOffset = parseOffset();\n    highp float d = length( v.xz );\n    highp vec2 t = normalize(v.xz / d + vOffset) * d;\n    v.xz = t.xy;\n    vRecompute = 0.0;\n    highp float abs_vy = abs(v.y);\n    if ( abs_vy < 0.707106781 ) {\n      vTextureCoord = EquirectPart( v );\n      vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n          vTextureCoord.x > 0.8 - eps * 0.5 );\n    } else {\n      vTextureCoord = FacePart( v );\n      vRecompute += float( abs_vy > 1.0 - eps );\n    }\n    vRecompute += float( abs_vy < 0.707106781 + eps &&\n        abs_vy > 0.707106781 - eps );\n  }\n"}),null);
__d("DefaultRenderer.fs",[],(function(a,b,c,d,e,f){e.exports="\n  varying highp vec2 vTextureCoord;\n\n  uniform sampler2D uSampler;\n\n  void main(void) {\n    gl_FragColor = texture2D(\n      uSampler,\n      vec2(vTextureCoord.s, vTextureCoord.t)\n    );\n  }\n"}),null);
__d("DefaultRenderer.vs",[],(function(a,b,c,d,e,f){e.exports="\n  attribute vec3 aVertexPosition;\n  attribute vec2 aTextureCoord;\n\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n\n  varying highp vec2 vTextureCoord;\n\n  void main(void) {\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n  }\n"}),null);
__d("HalfEquirect.fs",[],(function(a,b,c,d,e,f){e.exports="\n  // If changed, copy this constant to the vertex shader\n  #define FEATHER_RATIO 0.0278  // 10 / 360 degrees\n\n  uniform highp mat4 uSTMatrix;\n  uniform mediump vec2 uBoundaries;\n  uniform sampler2D uSampler;\n\n  varying highp vec2 vTextureCoord;\n  varying mediump vec4 vLeftBoundaryColor;\n  varying mediump vec4 vRightBoundaryColor;\n\n  mediump float leftBoundary;\n  mediump float rightBoundary;\n  mediump float processedX;\n\n  mediump vec4 getTextureColor() {\n    return texture2D(uSampler, (uSTMatrix * vec4(vTextureCoord, 0, 1)).xy);\n  }\n\n  mediump float getWrappedValue(mediump float value) {\n    return value + (value < leftBoundary ? 1.0 : 0.0);\n  }\n\n  mediump vec4 interpolate() {\n    mediump float interp = (processedX - rightBoundary) / (1.0 + leftBoundary - rightBoundary);\n    return mix(vRightBoundaryColor, vLeftBoundaryColor, interp);\n  }\n\n  mediump vec4 getFeatheredPixel() {\n    bool useLeftBoundary = processedX <= leftBoundary + FEATHER_RATIO;\n    mediump vec4 currColor = getTextureColor();\n    mediump vec4 boundaryColor = useLeftBoundary ? vLeftBoundaryColor : vRightBoundaryColor;\n    mediump float interp =\n      (useLeftBoundary ? (processedX - leftBoundary) : (rightBoundary - processedX))\n      / FEATHER_RATIO;\n    return mix(boundaryColor, currColor, interp);\n  }\n\n  void main(void) {\n    leftBoundary = uBoundaries.x;\n    rightBoundary = getWrappedValue(uBoundaries.y);\n\n    processedX = getWrappedValue(vTextureCoord.x);\n    bool mainImageBetweenFeatheredBounds =\n      (processedX > leftBoundary + FEATHER_RATIO)\n      && (processedX < rightBoundary - FEATHER_RATIO);\n\n    if (mainImageBetweenFeatheredBounds) {\n      gl_FragColor = getTextureColor();\n    } else if (processedX < leftBoundary || processedX > rightBoundary) {\n      gl_FragColor = interpolate();\n    } else {\n      gl_FragColor = getFeatheredPixel();\n    }\n  }\n"}),null);
__d("HalfEquirect.vs",[],(function(a,b,c,d,e,f){e.exports="\n  #define HALF_WINDOW_SIZE 20\n  #define WINDOW_SIZE 2*HALF_WINDOW_SIZE\n  #define TRIANGLE_WIDTH 0.04  // 1 / 30 triangles\n  #define INV_HEIGHT 0.005\n  #define BLUR_LENGTH float(HALF_WINDOW_SIZE)*INV_HEIGHT\n\n  // If changed, copy this definition to the fragment shader\n  #define FEATHER_RATIO 0.0278  // 10 / 360 degrees\n\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n  uniform mat4 uSTMatrix;\n  uniform mediump vec2 uBoundaries;\n  uniform sampler2D uSampler;\n\n  attribute vec3 aVertexPosition;\n  attribute vec2 aTextureCoord;\n\n  varying highp vec2 vTextureCoord;\n  varying mediump vec4 vLeftBoundaryColor;\n  varying mediump vec4 vRightBoundaryColor;\n\n  mediump float leftBoundary;\n  mediump float rightBoundary;\n\n  mediump float getUnWrappedValue(mediump float value) {\n    return value - (value > 1.0 ? 1.0 : 0.0);\n  }\n\n  mediump vec4 getVerticalBlurredBoundaryPixel(mediump float y, bool isLeft) {\n    mediump vec4 result = vec4(0.0);\n    mediump float boundaryFactor = FEATHER_RATIO * 0.5;\n    mediump float coordJEnd = clamp(y + BLUR_LENGTH, 0.0, 1.0);\n    mediump float coordJ = clamp(y - BLUR_LENGTH, 0.0, 1.0);\n    int numSamples = 0;\n\n    for (int j = 0; j <= WINDOW_SIZE; j++) {\n      if (coordJ > coordJEnd) {\n        break;\n      }\n      mediump float coordI = isLeft ? leftBoundary : rightBoundary;\n\n      // get boundary pixel color\n      result += texture2D(uSampler, (uSTMatrix * vec4(getUnWrappedValue(coordI), coordJ, 0, 1)).xy);\n\n      // get one more horizontal sample to average out any noise\n      coordI += boundaryFactor * (isLeft ? 1.0 : -1.0);\n      result += texture2D(uSampler, (uSTMatrix * vec4(getUnWrappedValue(coordI), coordJ, 0, 1)).xy);\n\n      numSamples += 2;\n      coordJ += INV_HEIGHT;\n    }\n\n    result.rgb /= float(numSamples);\n    result.a = 1.0;\n    return result;\n  }\n\n  mediump float getWrappedValue(mediump float value) {\n    return value + (value < leftBoundary ? 1.0 : 0.0);\n  }\n\n  void maybeSetBoundaryColors() {\n    mediump float processedX = getWrappedValue(vTextureCoord.x);\n    bool mainImageBetweenFeatheredBounds =\n      processedX > (leftBoundary + FEATHER_RATIO + TRIANGLE_WIDTH)\n      && processedX < (rightBoundary - FEATHER_RATIO - TRIANGLE_WIDTH);\n    if (mainImageBetweenFeatheredBounds) {\n      return;\n    }\n    vLeftBoundaryColor = getVerticalBlurredBoundaryPixel(vTextureCoord.y, true);\n    vRightBoundaryColor = getVerticalBlurredBoundaryPixel(vTextureCoord.y, false);\n  }\n\n  void main(void) {\n    leftBoundary = uBoundaries.x;\n    rightBoundary = getWrappedValue(uBoundaries.y);\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    maybeSetBoundaryColors();\n  }\n"}),null);
__d("TextureCubeMap.fs",[],(function(a,b,c,d,e,f){e.exports="\n  varying highp vec3 vVertexDirectionVector;\n  uniform samplerCube uSampler;\n\n  void main(void) {\n    gl_FragColor = textureCube(uSampler, vVertexDirectionVector);\n  }\n"}),null);
__d("TextureCubeMap.vs",[],(function(a,b,c,d,e,f){e.exports="\n  attribute vec3 aVertexPosition;\n\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n\n  varying highp vec3 vVertexDirectionVector;\n\n  void main(void) {\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n    vVertexDirectionVector = aVertexPosition;\n  }\n"}),null);
__d("SphericalShaderUtils",["CDSFallback.fs","CDSFallback.vs","CDSRenderer.fs","CDSRenderer.vs","DefaultRenderer.fs","DefaultRenderer.vs","HalfEquirect.fs","HalfEquirect.vs","TextureCubeMap.fs","TextureCubeMap.vs"],(function(a,b,c,d,e,f){__p&&__p();a={getVertexShader:function(a){switch(a){case"cube_map":return b("TextureCubeMap.vs");case"cds":return b("CDSRenderer.vs");case"cds_fallback":return b("CDSFallback.vs");case"half_equirectangular":return b("HalfEquirect.vs");default:return b("DefaultRenderer.vs")}},getFragmentShader:function(a){switch(a){case"cube_map":return b("TextureCubeMap.fs");case"cds":return b("CDSRenderer.fs");case"cds_fallback":return b("CDSFallback.fs");case"half_equirectangular":return b("HalfEquirect.fs");default:return b("DefaultRenderer.fs")}}};e.exports=a}),null);
__d("SphericalRenderer",["DOM","EventEmitter","EventListener","SphericalShaderUtils","gl-matrix"],(function(a,b,c,d,e,f){__p&&__p();var g=b("gl-matrix").glMatrix,h=b("gl-matrix").mat4,i=Math.max(window.devicePixelRatio||1,1),j=.25,k=.75,l=function(){"use strict"};c=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(d,c);function d(a,b,d){__p&&__p();var e;e=c.call(this)||this;e.$SphericalRenderer2=d;e.$SphericalRenderer23=d.fieldOfView;e.$SphericalRenderer18=!0;e.$SphericalRenderer17=a;e.$SphericalRenderer1=b;e.$SphericalRenderer11=h.create();e.$SphericalRenderer12=h.create();e.$SphericalRenderer13=h.create();e.$SphericalRenderer14=h.create();e.$SphericalRenderer3=!1;e.$SphericalRenderer20=[];e.$SphericalRenderer22=null;e.$SphericalRenderer21=null;e.$SphericalRenderer19=d.projectionType==="unpadded_cubestrip";e.$SphericalRenderer9=d.projectionType==="rotated_cubemap";e.$SphericalRenderer7=d.projectionType==="cds_barrel";e.$SphericalRenderer8=!1;e.$SphericalRenderer10=d.projectionType==="half_equirectangular";e.$SphericalRenderer25=new l();e.$SphericalRenderer25.ready=!1;e.$SphericalRenderer26=!1;e.$SphericalRenderer4=e.$SphericalRenderer27.bind(babelHelpers.assertThisInitialized(e));e.$SphericalRenderer5=e.$SphericalRenderer28.bind(babelHelpers.assertThisInitialized(e));e.$SphericalRenderer1.addEventListener("webglcontextlost",e.$SphericalRenderer4);e.$SphericalRenderer1.addEventListener("webglcontextrestored",e.$SphericalRenderer5);e.$SphericalRenderer29();return e}var e=d.prototype;e.destroy=function(){this.removeAllListeners(),this.$SphericalRenderer1.removeEventListener("webglcontextlost",this.$SphericalRenderer4),this.$SphericalRenderer1.removeEventListener("webglcontextrestored",this.$SphericalRenderer5)};e.reconfigure=function(a,b,c){c===void 0&&(c=!1),c&&(this.$SphericalRenderer20=[],this.$SphericalRenderer22=null,this.$SphericalRenderer21=null),this.$SphericalRenderer23=b.fieldOfView,this.$SphericalRenderer17=a,this.$SphericalRenderer2=b,this.$SphericalRenderer19=b.projectionType==="unpadded_cubestrip",this.$SphericalRenderer9=b.projectionType==="rotated_cubemap",this.$SphericalRenderer7=b.projectionType==="cds_barrel",this.$SphericalRenderer10=b.projectionType==="half_equirectangular",this.$SphericalRenderer25.framebuffer=null,this.$SphericalRenderer26=!1,this.$SphericalRenderer29()};e.hasRenderingContext=function(){return!this.$SphericalRenderer3};e.$SphericalRenderer27=function(a){a.preventDefault(),this.emit("renderingContextLost"),this.$SphericalRenderer3=!0};e.$SphericalRenderer28=function(a){this.$SphericalRenderer3=!1,this.$SphericalRenderer29(),this.emit("renderingContextRestore")};e.setAutoUpdateTexture=function(a){this.$SphericalRenderer18=a};e.updateFieldOfView=function(a){this.$SphericalRenderer23!==a&&(this.$SphericalRenderer23=a,this.$SphericalRenderer30())};e.updateViewportDimensions=function(a,b){this.$SphericalRenderer1.width=a*i,this.$SphericalRenderer1.height=b*i,this.$SphericalRenderer30()};e.$SphericalRenderer30=function(){h.perspective(this.$SphericalRenderer11,g.toRadian(this.$SphericalRenderer23),this.$SphericalRenderer1.width/this.$SphericalRenderer1.height,.1,100),this.$SphericalRenderer6.viewport(0,0,this.$SphericalRenderer6.drawingBufferWidth,this.$SphericalRenderer6.drawingBufferHeight)};e.$SphericalRenderer31=function(){this.$SphericalRenderer14=h.create(),this.$SphericalRenderer10&&(this.$SphericalRenderer14[0]=1/this.$SphericalRenderer24.x/(k-j),this.$SphericalRenderer14[5]=1/this.$SphericalRenderer24.y,this.$SphericalRenderer14[12]=-(this.$SphericalRenderer14[0]*j),this.$SphericalRenderer24={x:1,y:1})};e.$SphericalRenderer29=function(){__p&&__p();this.$SphericalRenderer32();if(this.$SphericalRenderer7){var a=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.$SphericalRenderer8=a==0}this.updateViewportDimensions(this.$SphericalRenderer1.clientWidth,this.$SphericalRenderer1.clientHeight);this.$SphericalRenderer24={x:this.$SphericalRenderer2.stereoFormat==="left-right"?2:1,y:this.$SphericalRenderer2.stereoFormat==="top-bottom"?2:1};this.$SphericalRenderer31();this.$SphericalRenderer33();this.$SphericalRenderer34();this.$SphericalRenderer6.clearColor(0,0,0,1);this.$SphericalRenderer17.setAttribute("crossorigin","anonymous")};e.getScreenshotDataURL=function(a,b,c,d){if(!this.$SphericalRenderer6||this.$SphericalRenderer3)return"";this.render(a,b);return this.$SphericalRenderer1.toDataURL(c,d)};e.$SphericalRenderer32=function(){__p&&__p();if(this.$SphericalRenderer6&&!this.$SphericalRenderer3)return;if(!(a.WebGLRenderingContext||a.WebGL2RenderingContext))throw new Error("WebGLRenderingContext not available.");var c=["webgl2","webgl","experimental-webgl"],d=null,e=null,f=b("EventListener").listen(this.$SphericalRenderer1,"webglcontextcreationerror",function(a){return e=a.statusMessage});for(var g=0;g<c.length;g++){try{d=this.$SphericalRenderer1.getContext(c[g])}catch(a){}if(d)break}f.remove();if(!d){e||(e="Unknown error.");throw new Error("Failed to acquire 3D rendering context: "+e)}this.$SphericalRenderer6=d;this.$SphericalRenderer3=!1};e.$SphericalRenderer33=function(){var a=this.$SphericalRenderer7?this.$SphericalRenderer8?"cds_fallback":"cds":this.$SphericalRenderer19?"cube_map":this.$SphericalRenderer10?"half_equirectangular":"default",b=this.$SphericalRenderer35(a);a=this.$SphericalRenderer36(a);this.$SphericalRenderer16=this.$SphericalRenderer6.createProgram();this.$SphericalRenderer6.attachShader(this.$SphericalRenderer16,b);this.$SphericalRenderer6.attachShader(this.$SphericalRenderer16,a);this.$SphericalRenderer6.linkProgram(this.$SphericalRenderer16)};e.$SphericalRenderer37=function(){__p&&__p();if(!this.$SphericalRenderer6.getProgramParameter(this.$SphericalRenderer16,this.$SphericalRenderer6.LINK_STATUS)){var a="",b=this.$SphericalRenderer6.getAttachedShaders(this.$SphericalRenderer16);for(var c=0;c<b.length;c++)if(!this.$SphericalRenderer6.getShaderParameter(b[c],this.$SphericalRenderer6.COMPILE_STATUS)){a="Shader error: "+this.$SphericalRenderer6.getShaderInfoLog(b[c]);break}a===""&&(a="Program link error: "+this.$SphericalRenderer6.getProgramInfoLog(this.$SphericalRenderer16));throw new Error(a)}this.$SphericalRenderer6.useProgram(this.$SphericalRenderer16);this.$SphericalRenderer16.vertexPositionAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer16,"aVertexPosition");this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer16.vertexPositionAttribute);this.$SphericalRenderer16.pMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uPMatrix");this.$SphericalRenderer16.mvMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uMVMatrix");this.$SphericalRenderer16.stMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uSTMatrix");this.$SphericalRenderer16.samplerUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uSampler");!this.$SphericalRenderer19&&!this.$SphericalRenderer7&&(this.$SphericalRenderer16.textureCoordAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer16,"aTextureCoord"),this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer16.textureCoordAttribute));this.$SphericalRenderer8&&(this.$SphericalRenderer16.offsetUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uOffset"));this.$SphericalRenderer10&&(this.$SphericalRenderer16.boundariesUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uBoundaries"));this.$SphericalRenderer26=!0};e.$SphericalRenderer34=function(){this.$SphericalRenderer15=this.$SphericalRenderer6.createTexture();this.$SphericalRenderer15.image=this.$SphericalRenderer17;var a=this.$SphericalRenderer19?this.$SphericalRenderer6.TEXTURE_CUBE_MAP:this.$SphericalRenderer6.TEXTURE_2D;this.$SphericalRenderer6.bindTexture(a,this.$SphericalRenderer15);this.$SphericalRenderer6.texParameteri(a,this.$SphericalRenderer6.TEXTURE_MAG_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(a,this.$SphericalRenderer6.TEXTURE_MIN_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(a,this.$SphericalRenderer6.TEXTURE_WRAP_S,this.$SphericalRenderer6.CLAMP_TO_EDGE);this.$SphericalRenderer6.texParameteri(a,this.$SphericalRenderer6.TEXTURE_WRAP_T,this.$SphericalRenderer6.CLAMP_TO_EDGE)};e.$SphericalRenderer38=function(a,b,c,d,e,f){__p&&__p();b===void 0&&(b=30);c===void 0&&(c=30);d===void 0&&(d=Math.PI);e===void 0&&(e=Math.PI*2);f===void 0&&(f=0);var g=2,h=[],i=[],j,k;for(j=0;j<=b;j++){var l=(j/b-.5)*d,m=Math.sin(l);l=Math.cos(l);for(k=0;k<=c;k++){var n=(k/c-.5)*e+f,o=Math.sin(n);n=Math.cos(n);n=n*l;var p=m;o=o*l;var q=k/c/this.$SphericalRenderer24.x,r=j/b/this.$SphericalRenderer24.y;i.push(q);i.push(r);h.push(g*n);h.push(g*p);h.push(g*o)}}q=[];for(j=0;j<b;j++)for(k=0;k<c;k++){r=j*(c+1)+k;n=r+c+1;q.push(r);q.push(n);q.push(r+1);q.push(n);q.push(n+1);q.push(r+1)}this.$SphericalRenderer20[a]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20[a]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(i),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer20[a].itemSize=2;this.$SphericalRenderer20[a].numItems=i.length/2;this.$SphericalRenderer22=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer22);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(h),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer22&&(this.$SphericalRenderer22.itemSize=3,this.$SphericalRenderer22.numItems=h.length/3);this.$SphericalRenderer21=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer21);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(q),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer21&&(this.$SphericalRenderer21.itemSize=1,this.$SphericalRenderer21.numItems=q.length)};e.$SphericalRenderer39=function(a,b){__p&&__p();var c=40,d=60,e=2,f=[],g=[],h=[],i=[],j,k;for(j=0;j<=c;j++){var l=j/c-.5,m=l*.5*Math.PI,n=Math.sin(m);m=Math.cos(m);var o=(l/a+.5)/this.$SphericalRenderer24.y;for(k=0;k<=d;k++){var p=k/d-.5,q=p*2*Math.PI,r=Math.sin(q);q=Math.cos(q);var s=q*m*e,t=n*e,u=r*m*e;p=(p/a*.8+.4)/this.$SphericalRenderer24.x;g.push(p);g.push(o);f.push(s);f.push(t);f.push(u);if(j==0||j==c){p=Math.sign(1-j);r=(r*.1/a+.9)/this.$SphericalRenderer24.x;q=(q*.25*p/a+.5+l*.5)/this.$SphericalRenderer24.y;i.push(r);i.push(q);h.push(s);h.push(t);h.push(u)}}}p=f.length/3;g.push.apply(g,i);f.push.apply(f,h);r=f.length/3;q=Math.sin(Math.PI*.25)*e;g.push(.9/this.$SphericalRenderer24.x);g.push(.25/this.$SphericalRenderer24.y);f.push(0);f.push(-q);f.push(0);g.push(.9/this.$SphericalRenderer24.x);g.push(.75/this.$SphericalRenderer24.y);f.push(0);f.push(q);f.push(0);s=[];for(j=0;j<c;j++)for(k=0;k<d;k++){t=j*(d+1)+k;u=t+d+1;s.push(t);s.push(u);s.push(t+1);s.push(u);s.push(u+1);s.push(t+1)}for(var m=0;m<2;m++)for(k=0;k<d;k++)s.push(k+p+m*(d+1)),s.push(k+p+m*(d+1)+1),s.push(r+m);this.$SphericalRenderer20[b]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20[b]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(g),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer20[b].itemSize=2;this.$SphericalRenderer20[b].numItems=g.length/2;this.$SphericalRenderer22=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer22);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(f),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer22&&(this.$SphericalRenderer22.itemSize=3,this.$SphericalRenderer22.numItems=f.length/3);this.$SphericalRenderer21=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer21);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(s),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer21&&(this.$SphericalRenderer21.itemSize=1,this.$SphericalRenderer21.numItems=s.length)};e.$SphericalRenderer40=function(a,b,c){__p&&__p();this.$SphericalRenderer9?a=[1,3,7,5,6,7,3,2,0,2,3,1,4,5,7,6,4,6,2,0,0,1,5,4]:a=[5,1,3,7,0,4,6,2,6,7,3,2,0,1,5,4,4,5,7,6,1,0,2,3];var d=[];for(var e=0;e<a.length;e++){var f=a[e]>>2&1,g=a[e]>>1&1,h=a[e]>>0&1;d.push(f*2-1);d.push(g*2-1);d.push(h*2-1)}this.$SphericalRenderer22=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer22);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(d),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer22&&(this.$SphericalRenderer22.itemSize=3,this.$SphericalRenderer22.numItems=d.length/3);if(!this.$SphericalRenderer19){var i;f=[];if(this.$SphericalRenderer9){g=this.$SphericalRenderer15.image.videoWidth/2;b=g/(Math.floor(g/32)*32);h=(1-1/b)/2;e=3;d=2;g=1/d;i=1/e}else h=(1-1/b)/2,e=2,d=3,g=1/d,i=1/e;for(var b=0;b<e;++b)for(var j=0;j<d;++j){var k=e-1-b,l=j;f.push((l+h)*g);f.push((k+h)*i);f.push((l+1-h)*g);f.push((k+h)*i);f.push((l+1-h)*g);f.push((k+1-h)*i);f.push((l+h)*g);f.push((k+1-h)*i)}this.$SphericalRenderer20[c]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20[c]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(f),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer20[c].itemSize=2;this.$SphericalRenderer20[c].numItems=f.length/2}l=[];for(var k=0;k<a.length;k+=4)l.push(k),l.push(k+2),l.push(k+1),l.push(k),l.push(k+3),l.push(k+2);this.$SphericalRenderer21=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer21);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(l),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer21&&(this.$SphericalRenderer21.itemSize=1,this.$SphericalRenderer21.numItems=l.length)};e.$SphericalRenderer35=function(a){var c=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.VERTEX_SHADER);a=b("SphericalShaderUtils").getVertexShader(a);this.$SphericalRenderer6.shaderSource(c,a);this.$SphericalRenderer6.compileShader(c);return c};e.$SphericalRenderer36=function(a){var c=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.FRAGMENT_SHADER);a=b("SphericalShaderUtils").getFragmentShader(a);this.$SphericalRenderer6.shaderSource(c,a);this.$SphericalRenderer6.compileShader(c);return c};e.$SphericalRenderer41=function(){this.$SphericalRenderer25.framebuffer=this.$SphericalRenderer6.createFramebuffer(),this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer25.framebuffer),this.$SphericalRenderer6.framebufferTexture2D(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer6.COLOR_ATTACHMENT0,this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer15,0),this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};e.$SphericalRenderer42=function(){this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer25.framebuffer),this.$SphericalRenderer6.readPixels(0,this.$SphericalRenderer15.image.videoHeight-1,this.$SphericalRenderer15.image.videoWidth,1,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer25.pixels),this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};e.$SphericalRenderer43=function(){__p&&__p();this.$SphericalRenderer25.bitmask.fill(0);var a=[0,0,0],b=this.$SphericalRenderer15.image.videoWidth/125,c=Math.round(b),d;for(d=0;d<33;++d){var e=Math.floor((45+d)*b)*4,f=128,g=127;for(var h=0;h<3;++h){a[h]=0;for(var i=0;i<c;++i)a[h]+=this.$SphericalRenderer25.pixels[e+i*4+(2-h)];a[h]/=c;f=Math.max(f,a[h]);g=Math.min(g,a[h])}for(h=0;h<3;++h){i=(a[h]-g)/(f-g);this.$SphericalRenderer25.bitmask[d*3+h]=i>.5?1:0}}for(d=0;d<12;++d){e=0;for(var i=0;i<8;++i)e+=this.$SphericalRenderer25.bitmask[1+d*8+i]*Math.pow(2,i);this.$SphericalRenderer25.dataView.setUint8(d,e)}this.$SphericalRenderer25.offsetX=this.$SphericalRenderer25.dataView.getFloat32(0,!0);this.$SphericalRenderer25.offsetZ=-this.$SphericalRenderer25.dataView.getFloat32(8,!0)};e.$SphericalRenderer44=function(){try{this.$SphericalRenderer25.ready||(this.$SphericalRenderer25.pixels=new Uint8Array(3840*4),this.$SphericalRenderer25.bitmask=new Uint8Array(33*3),this.$SphericalRenderer25.dataView=new DataView(new ArrayBuffer(12)),this.$SphericalRenderer25.ready=!0),this.$SphericalRenderer25.framebuffer||this.$SphericalRenderer41(),this.$SphericalRenderer42(),this.$SphericalRenderer43()}catch(a){this.emit("renderingError",a)}};e.$SphericalRenderer45=function(){if(this.$SphericalRenderer19)this.$SphericalRenderer46();else{this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer15);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,!this.$SphericalRenderer7);try{this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_2D,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer15.image)}catch(a){this.emit("renderingError",a)}this.$SphericalRenderer8&&this.$SphericalRenderer44()}};e.renderWithRotationMatrix=function(a){if(this.$SphericalRenderer3)return;this.$SphericalRenderer18&&this.$SphericalRenderer45();this.$SphericalRenderer12=a;this.$SphericalRenderer7&&h.rotateY(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(-90));this.$SphericalRenderer47()};e.render=function(a,b){if(this.$SphericalRenderer3)return;this.$SphericalRenderer18&&this.$SphericalRenderer45();this.$SphericalRenderer9?(h.identity(this.$SphericalRenderer12),h.rotateX(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(-b)),h.rotateY(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(a-135)),h.rotateZ(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(45))):(this.$SphericalRenderer7&&(a-=90),h.identity(this.$SphericalRenderer12),h.rotateX(this.$SphericalRenderer12,this.$SphericalRenderer12,-g.toRadian(b)),h.rotateY(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(a)));this.$SphericalRenderer47()};e.$SphericalRenderer47=function(){__p&&__p();if(this.$SphericalRenderer19)this.$SphericalRenderer22===null&&this.$SphericalRenderer40(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,0);else{this.$SphericalRenderer26||(this.$SphericalRenderer37(),this.$SphericalRenderer6.activeTexture(this.$SphericalRenderer6.TEXTURE0));var a=this.$SphericalRenderer15.image.videoWidth;this.$SphericalRenderer2.projectionType==="cubemap"||this.$SphericalRenderer2.projectionType==="rotated_cubemap"?a in this.$SphericalRenderer20||this.$SphericalRenderer40(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,a):this.$SphericalRenderer2.projectionType==="barrel"?a in this.$SphericalRenderer20||this.$SphericalRenderer39(this.$SphericalRenderer2.expansionCoef||1.01,a):this.$SphericalRenderer7?a in this.$SphericalRenderer20||this.$SphericalRenderer38(a,40,40,Math.PI/180*111,Math.PI/180*142,-Math.PI/2):a in this.$SphericalRenderer20||this.$SphericalRenderer38(a);this.$SphericalRenderer7||(this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20[a]),this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer16.textureCoordAttribute,this.$SphericalRenderer20[a].itemSize,this.$SphericalRenderer6.FLOAT,!1,0,0))}this.$SphericalRenderer6.uniform1i(this.$SphericalRenderer16.samplerUniform,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer22);this.$SphericalRenderer22&&this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer16.vertexPositionAttribute,this.$SphericalRenderer22.itemSize,this.$SphericalRenderer6.FLOAT,!1,0,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer21);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer16.pMatrixUniform,!1,this.$SphericalRenderer11);this.$SphericalRenderer10&&this.$SphericalRenderer6.uniform2f(this.$SphericalRenderer16.boundariesUniform,j,k);this.$SphericalRenderer7?(h.invert(this.$SphericalRenderer13,this.$SphericalRenderer12),this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer16.mvMatrixUniform,!1,this.$SphericalRenderer13),this.$SphericalRenderer8&&this.$SphericalRenderer6.uniform2f(this.$SphericalRenderer16.offsetUniform,this.$SphericalRenderer25.offsetX,this.$SphericalRenderer25.offsetZ)):this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer16.mvMatrixUniform,!1,this.$SphericalRenderer12);this.$SphericalRenderer10&&this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer16.stMatrixUniform,!1,this.$SphericalRenderer14);this.$SphericalRenderer21&&this.$SphericalRenderer6.drawElements(this.$SphericalRenderer6.TRIANGLES,this.$SphericalRenderer21.numItems,this.$SphericalRenderer6.UNSIGNED_SHORT,0)};e.$SphericalRenderer48=function(){var a=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_CUBE_MAP_TEXTURE_SIZE),b=this.$SphericalRenderer15.image.width;return Math.min(a,b)};e.$SphericalRenderer46=function(){var a=this.$SphericalRenderer48(),c=this.$SphericalRenderer15.image.width,d=b("DOM").create("canvas",{width:a,height:a});d=d.getContext("2d");this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_CUBE_MAP,this.$SphericalRenderer15);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,!1);for(var e=0;e<6;e++){d.drawImage(this.$SphericalRenderer15.image,0,e*c,c,c,0,0,a,a);var f=new Uint8Array(d.getImageData(0,0,a,a).data);this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,this.$SphericalRenderer6.RGBA,a,a,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,f)}};return d}(b("EventEmitter"));e.exports=c}),null);
__d("SphericalVideoPlayer",["cx","invariant","Arbiter","Banzai","CSS","DOM","DOMDimensions","Event","FullScreen","SphericalMediaCanvasPool","SphericalParallaxUtils","SphericalRenderer","SphericalVideoComponentActions","SphericalVideoComponentDispatcher","SphericalVideoHalfEquirectConfig","SphericalVideoPerformanceTracker","SphericalVideoPlayerEvents","SphericalViewportControl","SubscriptionsHandler","VideoPlayerReasonTransitionHelper","forwardEvent","getElementRect","getFullScreenElement","getViewportDimensions","gkx","onViewportChanged","requestAnimationFrame","uniqueID","SphericalViewportControlStore","VideoPlayerControllerStore"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SphericalParallaxUtils").calculateYawOffset,j="SphericalVideoPlayer";c=2;var k=1e3;d=.8;f=16;g=15;var l=d/f/g,m=50,n=.1;b("SphericalMediaCanvasPool").setLimit(c,j);d=function(){__p&&__p();function c(a,c){__p&&__p();var d=this;this.$48=function(){var a=!!d.$1.getOption("VideoWithSphericalGuide","auto");if(d.$1.getSource()!=="inline"||a)return;a=d.$55();if(a===null)return;typeof a==="number"||h(0,1207);d.$26=a;d.$29&&(d.$24=d.$12.getOrientation().x-d.$26,d.$25=d.$26,d.$29=!1)};this.$50=function(){d.$1.isState("paused")||d.$1.pause("spherical_switch_canvas"),d.$57(),d.$46()};this.$54=function(a){__p&&__p();if(!d.$14)return;var c=d.$14,e=d.$30?a-d.$30:0;e=d.$56(e);e&&d.$36(d.$24+d.$25,null);if(d.$2.readyState>=d.$2.HAVE_CURRENT_DATA&&(d.$44()||d.$7||e)){b("SphericalVideoPerformanceTracker").get().setProjection(d.$10.projectionType).addFrameAtTime(a);d.$7=!1;e=d.$12.getOrientation();c.render(e.x+90,e.y);d.$16&&(d.$16.remove(),d.$16=null)}d.$30=a;b("requestAnimationFrame")(d.$54)};this.$33=function(a,b){d.$12.setRelativeSphericalOrientation(a,b)};this.$36=function(a,b){d.$12.setSphericalOrientation(a,b)};this.$37=function(a){d.$14&&(d.$14.updateFieldOfView(a),d.$12.setFieldOfView(a),d.$20=a,d.$32())};this.$38=function(a){d.$14&&(d.$10.projectionType=a,d.$14.reconfigure(d.$2,d.$10,!0),d.$32())};this.$39=function(a){d.$14&&(d.$10.stereoFormat=a,d.$14.reconfigure(d.$2,d.$10,!0),d.$32())};this.$40=function(a){d.$12&&(d.$10.partialLimits=a,d.$12.reconfigure(d.$10),d.$32())};this.$41=function(a){a===void 0&&(a={}),d.$12&&(d.$12.reconfigureControlConfig(a),d.$32())};this.$34=function(a,c){if(b("FullScreen").isFullScreen()&&(a<d.$5.width||c<d.$5.height))return;d.$14?(d.$5.width=a,d.$5.height=c,d.$53(d.$14,a,c),d.$11.useViewportDimension&&(d.$6=b("DOMDimensions").getElementDimensions(d.$4)),d.$32()):d.$5={width:a,height:c}};this.$52=function(a,b,c){__p&&__p();if(!d.$14)return;a=a>=0?(a+180)%360-180:(a-180)%360+180;d.$59(a,b);d.$19.yaw=a;d.$19.pitch=b;d.$20=c;d.$14&&d.$14.updateFieldOfView(c);d.$58(a);d.$32()};this.$10=a;this.$11=Object.assign({viewportClassName:"_2a6s",canvasClassName:"_38vt",placeholderImgClassName:"_44h9",videoID:"",playerID:void 0,eagerPreload:void 0,preventScrollDefaultAction:void 0,useViewportDimension:void 0,useContainerDimensions:void 0},c);this.$22=0;this.$28=!0;this.$29=!1}var d=c.prototype;d.enable=function(c){__p&&__p();var d=this;if(this.$1)return;this.$1=c;if(typeof a.WebGLRenderingContext!=="function"&&typeof a.WebGL2RenderingContext!=="function"){this.$31({error:"SPHERICAL_SETUP_FAILED",message:"WebGLRenderingContext not available."});return}if(!b("gkx")("678912")){this.$31({error:"SPHERICAL_RENDER_ERROR",message:"Unsupported browser version"});return}var e=c.getVideoNode();e instanceof HTMLVideoElement||h(0,1208);this.$2=e;this.$7=!1;this.$18=!0;this.$8=new(b("SubscriptionsHandler"))();this.$8.addSubscriptions(b("Event").listen(this.$2,"loadeddata",function(){return d.$32()}),b("Event").listen(this.$2,"seeked",function(){return d.$32()}),b("Event").listen(this.$2,"ended",function(){return d.$33(0,0)}),b("Event").listen(window,"resize",function(){b("FullScreen").isFullScreen()&&d.$1.getContainerNode()===b("getFullScreenElement")()&&d.$34(window.innerWidth,window.innerHeight)}),c.addListener("stateChange",function(){(c.isState("destroyed")||c.isState("fallback")&&(c.isLiveVideo()||!c.isFallbackRecoverable()))&&d.$35()}),c.addListener("VideoPlayerFallbackEvents/recover",function(){d.$35(),b("CSS").removeClass(d.$2,"_3axk"),d.$1.play(new(b("VideoPlayerReasonTransitionHelper"))("spherical_fallback"))}),c.addListener(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,this.$36),c.addListener(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,this.$33),c.addListener(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$37),c.addListener(b("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.$38),c.addListener(b("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.$39),c.addListener(b("SphericalVideoPlayerEvents").SET_PARTIAL_LIMITS,this.$40),c.addListener(b("SphericalVideoPlayerEvents").SET_VIEWPORT_CONTROL_CONFIG,this.$41),c.addListener("dimensionsChange",this.$34),c.once("changeVolume",function(){return d.$18=!1}),c.once("muteVideo",function(){return d.$18=!1}),c.once("unmuteVideo",function(){return d.$18=!1}),c.addListener("toggleFullscreen",function(){return d.$4.focus()}),c.addListener("TahoeController/enterTahoe",function(){d.$4.focus(),d.$12.setEnableZoom(!0),d.$23=!0,d.$1.emit("SphericalVideoPlayer/zoomEnabled")}),c.addListener("TahoeController/exitTahoe",function(){d.$4.focus(),d.$12.setEnableZoom(!1),d.$23=!1,d.$1.emit("SphericalVideoPlayer/zoomDisabled")}));if(this.$11.useContainerDimensions){var f=c.getContainerNode();this.$5=b("DOMDimensions").getElementDimensions(f)}else this.$5=b("DOMDimensions").getElementDimensions(e),(this.$5.width===0||this.$5.height===0)&&(this.$5={width:e.width,height:e.height});this.$15=this.$1.getVideoPlayerID()||b("uniqueID")();this.$19={yaw:this.$10.initialHeading,pitch:this.$10.initialPitch};this.$20=this.$10.fieldOfView;this.$23=!1;f=c.getVideoProjection();f&&(this.$10.projectionType=f);b("CSS").addClass(e,"_3axk");this.$42();c.registerOption("SphericalVideoPlayer","getDimensions",function(){return d.$11.useViewportDimension?d.$6:d.$5});c.registerOption("SphericalVideoPlayer","isReady",function(){return!!d.$14});c.registerOption("SphericalVideoPlayer","getScreenshotDataURL",function(){return d.$43()});c.registerOption("SphericalVideoPlayer","getIsSingleFisheye",function(){return d.$10.isSingleFisheye&&d.$10.originalFOV!==null});c.registerOption("SphericalVideoPlayer","getOriginalFOV",function(){return d.$10.originalFOV});c.registerOption("SphericalVideoPlayer","getEnableZoom",function(){return d.$23});c.registerOption("SphericalVideoPlayer","getIsHalfEquirectangular",function(){return d.$10.projectionType==="half_equirectangular"});this.$44()||this.$11.eagerPreload?this.$45():this.$46()};d.disable=function(){this.$35()};d.$45=function(){__p&&__p();if(this.$1.getOption("SphericalVideoPlayer","isUnavailable"))return;this.$17&&(this.$17.remove(),this.$17=null);try{b("SphericalVideoPerformanceTracker").get().setProjection(this.$10.projectionType).enterSphericalRendererSetup(),this.$47(),b("SphericalVideoPerformanceTracker").get().exitSphericalRendererSetup()}catch(a){this.$31({error:"SPHERICAL_SETUP_FAILED",message:a.message});return}this.$1.setStillFrameEnabled(!1);this.$32();this.$1.emit("SphericalVideoPlayer/ready");var a=this.$12.getOrientation().x;this.$28?this.$24=a:this.$29=!0;this.$27=b("onViewportChanged")(this.$48);this.$28=!1};d.$46=function(){var a=this;this.$17=this.$1.addListener("stateChange",function(){a.$44()&&a.$45()})};d.$49=function(){if(!this.$14)return;var a=this.$43();a=b("DOM").create("img",{width:this.$5.width,height:this.$5.height,src:a,className:this.$11.placeholderImgClassName});b("DOM").insertAfter(this.$2,a);this.$16&&this.$16.remove();this.$16=a;this.$50()};d.$43=function(a,b){if(!this.$14)return"";var c=this.$14,d=this.$12.getOrientation(),e=d.x;d=d.y;return c.getScreenshotDataURL(e+90,d,a,b)};d.$42=function(){__p&&__p();var a=this,c=b("DOM").create("div",{className:this.$11.viewportClassName,tabIndex:0}),d={};if(this.$10.isSingleFisheye&&this.$10.originalFOV){var e=this.$10.originalFOV/2;this.$10.partialLimits={partialLeftDegrees:e,partialRightDegrees:e,partialTopDegrees:e,partialBottomDegrees:e};d=this.$51()}this.$10.projectionType==="half_equirectangular"&&(this.$10.partialLimits=b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularPartialLimits(),d=b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularControllerConfig());b("SphericalVideoComponentDispatcher").explicitlyRegisterStores([b("SphericalViewportControlStore"),b("VideoPlayerControllerStore")]);var f=new(b("SphericalViewportControl"))(c,this.$10,d);this.$8.addSubscriptions(f.addListener("DOM/click",function(b){if(b.button!==0)return;a.$1.clickVideo();b.preventDefault()}),f.addListener("mouseMove",function(b){a.$1.mouseMove(b),b.preventDefault()}),f.addListener("mouseUp",function(b){a.$1.mouseUp(b),b.preventDefault()}),f.addListener("mouseLeave",function(b){a.$1.mouseLeave(b),b.preventDefault()}),f.addListener("updateViewportBegin",function(){a.$1.isMuted()&&a.$18&&(a.$18=!1,a.$1.unmute()),a.$1.logEvent("viewport_rotated")}));this.$8.addSubscriptions(f.addListener("viewportChange",this.$52));e=["DOM/click","updateViewportBegin","updateViewportMove","updateViewportEnd","wheelScroll","viewportChange"];this.$8.addSubscriptions.apply(this.$8,e.map(function(c){return b("forwardEvent")(f,a.$1,c)}));this.$12=f;b("Arbiter").subscribe("VideoChannelView/opened",function(){a.$21=!0,a.$12.disableKeyboard()});b("Arbiter").subscribe("VideoChannelView/closed",function(){a.$21=!1,a.$12.enableKeyboard()});b("FullScreen").subscribe("changed",function(){b("FullScreen").isFullScreen()?a.$12.enableKeyboard():a.$21&&a.$12.disableKeyboard()});this.$11.preventScrollDefaultAction&&this.$12.setPreventScrollDefaultAction(!0);b("SphericalVideoComponentActions").registerSphericalViewportControl(this.$1.getVideoPlayerID(),this.$12,this.$4);this.$1.registerOption("SphericalVideoPlayer","getCurrentViewport",function(){return a.$19});this.$1.registerOption("SphericalVideoPlayer","getFieldOfView",function(){return a.$20});this.$4=c;b("DOM").insertAfter(this.$2,c);this.$11.useViewportDimension&&(this.$6=b("DOMDimensions").getElementDimensions(c))};d.$47=function(){__p&&__p();var a=this,c={canvasAttrs:{width:this.$5.width,height:this.$5.height,className:this.$11.canvasClassName,tabIndex:0},beforeCanvasLost:function(){return a.$49()}};c=b("SphericalMediaCanvasPool").get(this.$15,c,j);var d=new(b("SphericalRenderer"))(this.$2,c,this.$10);this.$9=new(b("SubscriptionsHandler"))();this.$9.addSubscriptions(d.addListener("renderingError",function(b){return a.$31({error:"SPHERICAL_RENDER_ERROR",message:b.message})}),d.addListener("renderingContextLost",this.$50));this.$3=c;this.$14=d;b("DOM").insertAfter(this.$2,c);this.$53(d,this.$5.width,this.$5.height);b("requestAnimationFrame")(this.$54);b("CSS").show(c)};d.$55=function(){__p&&__p();var a=this.$1.getRootNode();if(!a)return null;a=b("getElementRect")(a);a=a.top+a.bottom/2;var c=b("getViewportDimensions").withoutScrollbars().height;a=a/c*100;c=this.$12.getHorizontalFieldOfView();a=i(a,null,null,c);c=a.yaw;a=a.success;return a?c:null};d.$56=function(a){__p&&__p();if(typeof this.$26!=="number")return!1;typeof this.$25!=="number"&&(this.$25=0);var b=Math.abs(this.$25-this.$26);if(b<n)return!1;b=b*l;a=Math.max(a,m);this.$25<this.$26?this.$25+=Math.min(this.$26-this.$25,b*a):this.$25-=Math.min(this.$25-this.$26,b*a);return!0};d.$31=function(a){this.$1.logError(a),this.$1.emit("error",a),this.$35()};d.$44=function(){return this.$1.isState("playing")};d.$58=function(a){if(!this.$25)return;this.$24=a-this.$25};d.$53=function(a,c,d){a.updateViewportDimensions(c,d),b("SphericalVideoComponentActions").updateViewportDimensions(this.$1.getVideoPlayerID(),c,d)};d.$32=function(){this.$7=!0};d.$59=function(a,c){var d=Date.now();if(d-this.$22>=k){this.$22=d;var e=!!this.$1.getOption("VideoWithSphericalGuide","auto");b("Banzai").post("spherical_video_viewport",{video_fbid:this.$1.getVideoID(),yaw_degrees:a,pitch_degrees:c,roll_degrees:0,field_of_view_y:this.$10.fieldOfView,aspect_ratio:this.$5.height/this.$5.width,video_player_position:this.$2.currentTime,video_player_position_ms:this.$2.currentTime*1e3,guide_enabled:e,timestamp:d})}};d.$57=function(){this.$14&&(this.$14.destroy(),this.$14=null,this.$27&&this.$27.remove(),this.$27=null,this.$9.release(),this.$3.remove())};d.$35=function(){this.$1.hasOption("SphericalVideoPlayer","isUnavailable")||this.$1.registerOption("SphericalVideoPlayer","isUnavailable",function(){return!0}),this.$8&&this.$8.release(),this.$57(),this.$12&&this.$12.destroy(),this.$13&&this.$13.destroy(),this.$4&&this.$4.remove(),b("SphericalVideoPerformanceTracker").get().destroy()};d.$51=function(){return{disableAutoClientSizeUpdate:!1,enableGyro:!1,enableRubberBanding:!1,maxSpringDegrees:0,maxStretchXDegrees:0,maxStretchYDegrees:0,minVFOV:3,rubberBandConstant:0,slipFactor:0,springFactor:0,enableZoomWithShiftKey:!1,enablePanningWithRightMouse:!1}};return c}();e.exports=d}),null);
__d("SphericalVideoRecenterControl",["SubscriptionsHandler","easeInOutInterpolate","requestAnimationFrame"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3;a=function(){"use strict";__p&&__p();function a(a,b,c){var d=this;this.$2=a;this.$1=!1;this.$6=this.$9.bind(this);this.$5={yaw:b,pitch:c};this.$4={yaw:b,pitch:c};a.getOption("SphericalVideoPlayer","isReady")?this.$10():a.once("SphericalVideoPlayer/ready",function(){return d.$10()})}var c=a.prototype;c.$10=function(){var a=this;this.$8=new(b("SubscriptionsHandler"))();this.$8.addSubscriptions(this.$2.addListener("updateViewportBegin",function(){return a.$11()}),this.$2.addListener("SphericalHeadingIndicator/click",function(){return a.$12()}),this.$2.addListener("VideoWithSphericalGuide/intervalUpdate",function(b){return a.updateTargetViewport(b.baseYaw+b.deltaYaw,b.basePitch+b.deltaPitch)}),this.$2.addListener("VideoWithSphericalGuide/stateToggle",function(b){b||(a.$5.yaw=a.$4.yaw,a.$5.pitch=a.$4.pitch)}),this.$2.addListener("SphericalVideoViewportTagComment/click",function(b){return a.$12(b)}))};c.updateTargetViewport=function(a,b){this.$5.yaw=a,this.$5.pitch=b};c.$12=function(a){__p&&__p();if(this.$1||this.$2.getOption("VideoWithSphericalGuide","enabled")&&this.$2.isState("playing"))return;this.$1=!0;this.$3=Date.now();var c=this.$2.getOption("SphericalVideoPlayer","getCurrentViewport");a=a||this.$5;var d=a.yaw-c.yaw;Math.abs(d)>180&&(d=d>0?d-360:d+360);this.$7={basePitch:c.pitch,deltaPitch:a.pitch-c.pitch,baseYaw:c.yaw,deltaYaw:d};this.$2.emit("SphericalVideoRecenterControl/animationStart");b("requestAnimationFrame")(this.$6)};c.$11=function(){this.$1=!1};c.$9=function(){__p&&__p();if(!this.$1){this.$2.emit("SphericalVideoRecenterControl/animationEnd");return}var a=Date.now();if(a-this.$3>g){this.$13(this.$7,1);this.$1=!1;this.$2.emit("SphericalVideoRecenterControl/animationEnd");return}b("requestAnimationFrame")(this.$6);this.$13(this.$7,b("easeInOutInterpolate")((a-this.$3)/g))};c.$13=function(a,b){var c=a.deltaPitch*b+a.basePitch;b=a.deltaYaw*b+a.baseYaw;this.$2.setSphericalOrientation(b,c)};c.destroy=function(){this.$8.release()};return a}();e.exports=a}),null);
__d("VideoSphericalHeadingIndicator",["cx","CSS","React","ReactDOM","SphericalVideoHeadingIndicator.react","destroyOnUnload"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e,f,g){__p&&__p();var h=this;g===void 0&&(g=!1);this.$7=function(a){a.preventDefault(),h.$1.emit("SphericalHeadingIndicator/click"),h.$1.logEvent("heading_reset")};this.$1=a;this.$2=c;this.$3=d;this.$4=g;var i=a.addListener("VideoPlayerFallbackEvents/enter",function(){i.remove(),b("ReactDOM").unmountComponentAtNode(c)});if(a.isState("ready")||a.isState("playing"))this.$5();else var j=a.addListener("stateChange",function(){(h.$1.isState("ready")||h.$1.isState("playing"))&&(j.remove(),h.$5())});b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)})}var c=a.prototype;c.$5=function(){this.$1.addListener("toggleFullscreen",this.$6.bind(this)),b("ReactDOM").render(b("React").jsx(b("SphericalVideoHeadingIndicator.react"),{initialYaw:this.$3,onClick:this.$7,controller:this.$1,isComposer:this.$4}),this.$2)};c.$6=function(){this.$1.isFullscreen()?b("CSS").addClass(this.$2,"_4ubd"):b("CSS").removeClass(this.$2,"_4ubd")};return a}();e.exports=a}),null);
__d("CommerceMerchantSettingsUpdateMutation",["RelayModern","CommerceMerchantSettingsUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("CommerceMerchantSettingsUpdateMutation.graphql");function a(a,b){return h(a,babelHelpers["extends"]({mutation:i},b))}e.exports={commit:a}}),null);
__d("CHEXTaxCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FB_ANIMAL:"FB_ANIMAL",FB_ANIMAL_SUPP:"FB_ANIMAL_SUPP",FB_APRL:"FB_APRL",FB_APRL_ACCESSORIES:"FB_APRL_ACCESSORIES",FB_APRL_ATHL_UNIF:"FB_APRL_ATHL_UNIF",FB_APRL_CASES:"FB_APRL_CASES",FB_APRL_CLOTHING:"FB_APRL_CLOTHING",FB_APRL_COSTUME:"FB_APRL_COSTUME",FB_APRL_CSTM:"FB_APRL_CSTM",FB_APRL_HANDBAG:"FB_APRL_HANDBAG",FB_APRL_JEWELRY:"FB_APRL_JEWELRY",FB_APRL_SHOE:"FB_APRL_SHOE",FB_APRL_SHOE_ACC:"FB_APRL_SHOE_ACC",FB_APRL_SWIM:"FB_APRL_SWIM",FB_APRL_SWIM_CHIL:"FB_APRL_SWIM_CHIL",FB_APRL_SWIM_CVR:"FB_APRL_SWIM_CVR",FB_ARTS:"FB_ARTS",FB_ARTS_HOBBY:"FB_ARTS_HOBBY",FB_ARTS_PARTY:"FB_ARTS_PARTY",FB_ARTS_PARTY_GIFT_CARD:"FB_ARTS_PARTY_GIFT_CARD",FB_ARTS_TICKET:"FB_ARTS_TICKET",FB_BABY:"FB_BABY",FB_BABY_BATH:"FB_BABY_BATH",FB_BABY_BLANKET:"FB_BABY_BLANKET",FB_BABY_DIAPER:"FB_BABY_DIAPER",FB_BABY_GIFT_SET:"FB_BABY_GIFT_SET",FB_BABY_HEALTH:"FB_BABY_HEALTH",FB_BABY_NURSING:"FB_BABY_NURSING",FB_BABY_POTTY_TRN:"FB_BABY_POTTY_TRN",FB_BABY_SAFE:"FB_BABY_SAFE",FB_BABY_TOYS:"FB_BABY_TOYS",FB_BABY_TRANSPORT:"FB_BABY_TRANSPORT",FB_BABY_TRANSPORT_ACC:"FB_BABY_TRANSPORT_ACC",FB_BAGS:"FB_BAGS",FB_BAGS_BKPK:"FB_BAGS_BKPK",FB_BAGS_BOXES:"FB_BAGS_BOXES",FB_BAGS_BRFCS:"FB_BAGS_BRFCS",FB_BAGS_CSMT_BAG:"FB_BAGS_CSMT_BAG",FB_BAGS_DFFL:"FB_BAGS_DFFL",FB_BAGS_DIPR:"FB_BAGS_DIPR",FB_BAGS_FNNY:"FB_BAGS_FNNY",FB_BAGS_GRMT:"FB_BAGS_GRMT",FB_BAGS_LUG_ACC:"FB_BAGS_LUG_ACC",FB_BAGS_LUGG:"FB_BAGS_LUGG",FB_BAGS_MSGR:"FB_BAGS_MSGR",FB_BAGS_TOTE:"FB_BAGS_TOTE",FB_BAGS_TRN_CAS:"FB_BAGS_TRN_CAS",FB_BLDG:"FB_BLDG",FB_BLDG_ACC:"FB_BLDG_ACC",FB_BLDG_CNSMB:"FB_BLDG_CNSMB",FB_BLDG_FENCE:"FB_BLDG_FENCE",FB_BLDG_FUEL_TNK:"FB_BLDG_FUEL_TNK",FB_BLDG_HT_VNT:"FB_BLDG_HT_VNT",FB_BLDG_LOCK:"FB_BLDG_LOCK",FB_BLDG_MATRL:"FB_BLDG_MATRL",FB_BLDG_PLMB:"FB_BLDG_PLMB",FB_BLDG_PUMP:"FB_BLDG_PUMP",FB_BLDG_PWRS:"FB_BLDG_PWRS",FB_BLDG_S_ENG:"FB_BLDG_S_ENG",FB_BLDG_STR_TANK:"FB_BLDG_STR_TANK",FB_BLDG_TL_ACC:"FB_BLDG_TL_ACC",FB_BLDG_TOOL:"FB_BLDG_TOOL",FB_BUSIND:"FB_BUSIND",FB_BUSIND_ADVERTISING:"FB_BUSIND_ADVERTISING",FB_BUSIND_AGRICULTURE:"FB_BUSIND_AGRICULTURE",FB_BUSIND_AUTOMATION:"FB_BUSIND_AUTOMATION",FB_BUSIND_HEAVY_MACH:"FB_BUSIND_HEAVY_MACH",FB_BUSIND_LAB:"FB_BUSIND_LAB",FB_BUSIND_MEDICAL:"FB_BUSIND_MEDICAL",FB_BUSIND_RETAIL:"FB_BUSIND_RETAIL",FB_BUSIND_SANITARY_CT:"FB_BUSIND_SANITARY_CT",FB_BUSIND_SIGN:"FB_BUSIND_SIGN",FB_BUSIND_STORAGE:"FB_BUSIND_STORAGE",FB_BUSIND_STORAGE_ACC:"FB_BUSIND_STORAGE_ACC",FB_BUSIND_WORK_GEAR:"FB_BUSIND_WORK_GEAR",FB_CAMERA_ACC:"FB_CAMERA_ACC",FB_CAMERA_CAMERA:"FB_CAMERA_CAMERA",FB_CAMERA_OPTIC:"FB_CAMERA_OPTIC",FB_CAMERA_OPTICS:"FB_CAMERA_OPTICS",FB_CAMERA_PHOTO:"FB_CAMERA_PHOTO",FB_ELEC:"FB_ELEC",FB_ELEC_ACC:"FB_ELEC_ACC",FB_ELEC_ARCDADE:"FB_ELEC_ARCDADE",FB_ELEC_AUDIO:"FB_ELEC_AUDIO",FB_ELEC_CIRCUIT:"FB_ELEC_CIRCUIT",FB_ELEC_COMM:"FB_ELEC_COMM",FB_ELEC_COMPUTER:"FB_ELEC_COMPUTER",FB_ELEC_GPS_ACC:"FB_ELEC_GPS_ACC",FB_ELEC_GPS_NAV:"FB_ELEC_GPS_NAV",FB_ELEC_GPS_TRK:"FB_ELEC_GPS_TRK",FB_ELEC_MARINE:"FB_ELEC_MARINE",FB_ELEC_NETWORK:"FB_ELEC_NETWORK",FB_ELEC_PART:"FB_ELEC_PART",FB_ELEC_PRINT:"FB_ELEC_PRINT",FB_ELEC_RADAR:"FB_ELEC_RADAR",FB_ELEC_SPEED_RDR:"FB_ELEC_SPEED_RDR",FB_ELEC_TOLL:"FB_ELEC_TOLL",FB_ELEC_VID_GM_ACC:"FB_ELEC_VID_GM_ACC",FB_ELEC_VID_GM_CNSL:"FB_ELEC_VID_GM_CNSL",FB_ELEC_VIDEO:"FB_ELEC_VIDEO",FB_FOOD:"FB_FOOD",FB_FURN:"FB_FURN",FB_FURN_BABY:"FB_FURN_BABY",FB_FURN_BENCH:"FB_FURN_BENCH",FB_FURN_CART:"FB_FURN_CART",FB_FURN_CHAIR:"FB_FURN_CHAIR",FB_FURN_CHAIR_ACC:"FB_FURN_CHAIR_ACC",FB_FURN_DIVIDE:"FB_FURN_DIVIDE",FB_FURN_DIVIDE_ACC:"FB_FURN_DIVIDE_ACC",FB_FURN_ENT_CTR:"FB_FURN_ENT_CTR",FB_FURN_FUTN:"FB_FURN_FUTN",FB_FURN_FUTN_PAD:"FB_FURN_FUTN_PAD",FB_FURN_OFFICE:"FB_FURN_OFFICE",FB_FURN_OFFICE_ACC:"FB_FURN_OFFICE_ACC",FB_FURN_OTTO:"FB_FURN_OTTO",FB_FURN_OUTDOOR:"FB_FURN_OUTDOOR",FB_FURN_OUTDOOR_ACC:"FB_FURN_OUTDOOR_ACC",FB_FURN_SETS:"FB_FURN_SETS",FB_FURN_SHELVE_ACC:"FB_FURN_SHELVE_ACC",FB_FURN_SHLF:"FB_FURN_SHLF",FB_FURN_SOFA:"FB_FURN_SOFA",FB_FURN_SOFA_ACC:"FB_FURN_SOFA_ACC",FB_FURN_STORAGE:"FB_FURN_STORAGE",FB_FURN_TABL:"FB_FURN_TABL",FB_FURN_TABL_ACC:"FB_FURN_TABL_ACC",FB_GENERIC_TAXABLE:"FB_GENERIC_TAXABLE",FB_HLTH:"FB_HLTH",FB_HLTH_HLTH:"FB_HLTH_HLTH",FB_HLTH_JWL_CR:"FB_HLTH_JWL_CR",FB_HLTH_LILP_BLM:"FB_HLTH_LILP_BLM",FB_HLTH_LTN_SPF:"FB_HLTH_LTN_SPF",FB_HLTH_PRSL_CR:"FB_HLTH_PRSL_CR",FB_HLTH_SKN_CR:"FB_HLTH_SKN_CR",FB_HMGN:"FB_HMGN",FB_HMGN_BATH:"FB_HMGN_BATH",FB_HMGN_DCOR:"FB_HMGN_DCOR",FB_HMGN_EMGY:"FB_HMGN_EMGY",FB_HMGN_FPLC:"FB_HMGN_FPLC",FB_HMGN_FPLC_ACC:"FB_HMGN_FPLC_ACC",FB_HMGN_GS_SFT:"FB_HMGN_GS_SFT",FB_HMGN_HS_ACC:"FB_HMGN_HS_ACC",FB_HMGN_HS_APP:"FB_HMGN_HS_APP",FB_HMGN_HS_SPL:"FB_HMGN_HS_SPL",FB_HMGN_KTCN:"FB_HMGN_KTCN",FB_HMGN_LAWN:"FB_HMGN_LAWN",FB_HMGN_LGHT:"FB_HMGN_LGHT",FB_HMGN_LINN:"FB_HMGN_LINN",FB_HMGN_LT_ACC:"FB_HMGN_LT_ACC",FB_HMGN_OTDR:"FB_HMGN_OTDR",FB_HMGN_POOL:"FB_HMGN_POOL",FB_HMGN_SCTY:"FB_HMGN_SCTY",FB_HMGN_SMK_ACC:"FB_HMGN_SMK_ACC",FB_HMGN_UMBR:"FB_HMGN_UMBR",FB_HMGN_UMBR_ACC:"FB_HMGN_UMBR_ACC",FB_MDIA:"FB_MDIA",FB_MDIA_BOOK:"FB_MDIA_BOOK",FB_MDIA_DVDS:"FB_MDIA_DVDS",FB_MDIA_MAG:"FB_MDIA_MAG",FB_MDIA_MANL:"FB_MDIA_MANL",FB_MDIA_MUSC:"FB_MDIA_MUSC",FB_MDIA_PRJ_PLN:"FB_MDIA_PRJ_PLN",FB_MDIA_SHT_MUS:"FB_MDIA_SHT_MUS",FB_OFFC:"FB_OFFC",FB_OFFC_BKAC:"FB_OFFC_BKAC",FB_OFFC_CRTS:"FB_OFFC_CRTS",FB_OFFC_DSKP:"FB_OFFC_DSKP",FB_OFFC_EQIP:"FB_OFFC_EQIP",FB_OFFC_FLNG:"FB_OFFC_FLNG",FB_OFFC_GNRL:"FB_OFFC_GNRL",FB_OFFC_INSTM:"FB_OFFC_INSTM",FB_OFFC_LP_DSK:"FB_OFFC_LP_DSK",FB_OFFC_MATS:"FB_OFFC_MATS",FB_OFFC_NM_PLT:"FB_OFFC_NM_PLT",FB_OFFC_PPR_HNDL:"FB_OFFC_PPR_HNDL",FB_OFFC_PRSNT_SPL:"FB_OFFC_PRSNT_SPL",FB_OFFC_SEALR:"FB_OFFC_SEALR",FB_OFFC_SHIP_SPL:"FB_OFFC_SHIP_SPL",FB_RLGN:"FB_RLGN",FB_RLGN_CMNY:"FB_RLGN_CMNY",FB_RLGN_ITEM:"FB_RLGN_ITEM",FB_RLGN_WEDD:"FB_RLGN_WEDD",FB_SFTWR:"FB_SFTWR",FB_SFWR_CMPTR:"FB_SFWR_CMPTR",FB_SFWR_DGTL_GD:"FB_SFWR_DGTL_GD",FB_SFWR_GAME:"FB_SFWR_GAME",FB_SHIPPING:"FB_SHIPPING",FB_SPOR:"FB_SPOR",FB_SPORT_ATHL:"FB_SPORT_ATHL",FB_SPORT_ATHL_CLTH:"FB_SPORT_ATHL_CLTH",FB_SPORT_ATHL_SHOE:"FB_SPORT_ATHL_SHOE",FB_SPORT_ATHL_SPRT:"FB_SPORT_ATHL_SPRT",FB_SPORT_EXRCS:"FB_SPORT_EXRCS",FB_SPORT_INDR_GM:"FB_SPORT_INDR_GM",FB_SPORT_OTDR_GM:"FB_SPORT_OTDR_GM",FB_TOYS:"FB_TOYS",FB_TOYS_EQIP:"FB_TOYS_EQIP",FB_TOYS_GAME:"FB_TOYS_GAME",FB_TOYS_PZZL:"FB_TOYS_PZZL",FB_TOYS_TMRS:"FB_TOYS_TMRS",FB_TOYS_TOYS:"FB_TOYS_TOYS",FB_VEHI:"FB_VEHI",FB_VEHI_PART:"FB_VEHI_PART"})}),null);
__d("XPagesManagerShopManagementController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/shop/settings/{?tab}/{?order_id}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},tab:{type:"Enum",enumType:1},order_id:{type:"FBID"}})}),null);